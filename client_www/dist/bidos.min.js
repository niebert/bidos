"use strict";!function n(e,t,r){function o(u,a){if(!t[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[u]={exports:{}};e[u][0].call(s.exports,function(n){var t=e[u][1][n];return o(t?t:n)},s,s.exports,n,e,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(n,e,t){(function(n){(function(){function r(n,e){if(n!==e){var t=n===n,r=e===e;if(n>e||!t||"undefined"==typeof n&&r)return 1;if(e>n||!r||"undefined"==typeof e&&t)return-1}return 0}function o(n,e,t){if(e!==e)return g(n,t);for(var r=(t||0)-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}function i(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function u(n){return"string"==typeof n?n:null==n?"":n+""}function a(n){return n.charCodeAt(0)}function c(n,e){for(var t=-1,r=n.length;++t<r&&e.indexOf(n.charAt(t))>-1;);return t}function l(n,e){for(var t=n.length;t--&&e.indexOf(n.charAt(t))>-1;);return t}function s(n,e){return r(n.criteria,e.criteria)||n.index-e.index}function f(n,e){for(var t=-1,o=n.criteria,i=e.criteria,u=o.length;++t<u;){var a=r(o[t],i[t]);if(a)return a}return n.index-e.index}function p(n){return Be[n]}function h(n){return He[n]}function d(n){return"\\"+Ge[n]}function g(n,e,t){for(var r=n.length,o=t?e||r:(e||0)-1;t?o--:++o<r;){var i=n[o];if(i!==i)return o}return-1}function v(n){return n&&"object"==typeof n||!1}function m(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function b(n,e){for(var t=-1,r=n.length,o=-1,i=[];++t<r;)n[t]===e&&(n[t]=K,i[++o]=t);return i}function y(n,e){for(var t,r=-1,o=n.length,i=-1,u=[];++r<o;){var a=n[r],c=e?e(a,r,n):a;r&&t===c||(t=c,u[++i]=a)}return u}function _(n){for(var e=-1,t=n.length;++e<t&&m(n.charCodeAt(e)););return e}function x(n){for(var e=n.length;e--&&m(n.charCodeAt(e)););return e}function w(n){return Ke[n]}function k(n){function e(n){if(v(n)&&!Ba(n)){if(n instanceof t)return n;if(Gu.call(n,"__wrapped__"))return new t(n.__wrapped__,n.__chain__,Je(n.__actions__))}return new t(n)}function t(n,e,t){this.__actions__=t||[],this.__chain__=!!e,this.__wrapped__=n}function m(n){this.actions=null,this.dir=1,this.dropCount=0,this.filtered=!1,this.iteratees=null,this.takeCount=xa,this.views=null,this.wrapped=n}function J(){var n=this.actions,e=this.iteratees,t=this.views,r=new m(this.wrapped);return r.actions=n?Je(n):null,r.dir=this.dir,r.dropCount=this.dropCount,r.filtered=this.filtered,r.iteratees=e?Je(e):null,r.takeCount=this.takeCount,r.views=t?Je(t):null,r}function ne(){if(this.filtered){var n=new m(this);n.dir=-1,n.filtered=!0}else n=this.clone(),n.dir*=-1;return n}function te(){var n=this.wrapped.value();if(!Ba(n))return qt(n,this.actions);var e=this.dir,t=0>e,r=gr(0,n.length,this.views),o=r.start,i=r.end,u=i-o,a=this.dropCount,c=ga(u,this.takeCount-a),l=t?i:o-1,s=this.iteratees,f=s?s.length:0,p=0,h=[];n:for(;u--&&c>p;){l+=e;for(var d=-1,g=n[l];++d<f;){var v=s[d],m=v.iteratee,b=m(g,l,n),y=v.type;if(y==z)g=b;else if(!b){if(y==D)continue n;break n}}a?a--:h[p++]=g}return h}function Be(){this.__data__={}}function He(n){return this.has(n)&&delete this.__data__[n]}function Ke(n){return"__proto__"==n?O:this.__data__[n]}function We(n){return"__proto__"!=n&&Gu.call(this.__data__,n)}function Ge(n,e){return"__proto__"!=n&&(this.__data__[n]=e),this}function Ve(n){var e=n?n.length:0;for(this.data={hash:fa(null),set:new oa};e--;)this.push(n[e])}function Me(n,e){var t=n.data,r="string"==typeof e||_i(e)?t.set.has(e):t.hash[e];return r?0:-1}function Ye(n){var e=this.data;"string"==typeof n||_i(n)?e.set.add(n):e.hash[n]=!0}function Je(n,e){var t=-1,r=n.length;for(e||(e=Au(r));++t<r;)e[t]=n[t];return e}function Xe(n,e){for(var t=-1,r=n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function Qe(n,e){for(var t=n.length;t--&&e(n[t],t,n)!==!1;);return n}function nt(n,e){for(var t=-1,r=n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function et(n,e){for(var t=-1,r=n.length,o=-1,i=[];++t<r;){var u=n[t];e(u,t,n)&&(i[++o]=u)}return i}function tt(n,e){for(var t=-1,r=n.length,o=Au(r);++t<r;)o[t]=e(n[t],t,n);return o}function rt(n){for(var e=-1,t=n.length,r=_a;++e<t;){var o=n[e];o>r&&(r=o)}return r}function ot(n){for(var e=-1,t=n.length,r=xa;++e<t;){var o=n[e];r>o&&(r=o)}return r}function it(n,e,t,r){var o=-1,i=n.length;for(r&&i&&(t=n[++o]);++o<i;)t=e(t,n[o],o,n);return t}function ut(n,e,t,r){var o=n.length;for(r&&o&&(t=n[--o]);o--;)t=e(t,n[o],o,n);return t}function at(n,e){for(var t=-1,r=n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function ct(n,e){return"undefined"==typeof n?e:n}function lt(n,e,t,r){return"undefined"!=typeof n&&Gu.call(r,t)?n:e}function st(n,e,t){var r=Ga(e);if(!t)return pt(e,n,r);for(var o=-1,i=r.length;++o<i;){var u=r[o],a=n[u],c=t(a,e[u],u,n,e);(c===c?c===a:a!==a)&&("undefined"!=typeof a||u in n)||(n[u]=c)}return n}function ft(n,e){for(var t=-1,r=n.length,o=wr(r),i=e.length,u=Au(i);++t<i;){var a=e[t];o?(a=parseFloat(a),u[t]=_r(a,r)?n[a]:O):u[t]=n[a]}return u}function pt(n,e,t){t||(t=e,e={});for(var r=-1,o=t.length;++r<o;){var i=t[r];e[i]=n[i]}return e}function ht(n,e){for(var t=-1,r=e.length;++t<r;){var o=e[t];n[o]=cr(n[o],E,n)}return n}function dt(n,e,t){var r=typeof n;return"function"==r?"undefined"!=typeof e&&yr(n)?Yt(n,e,t):n:null==n?_u:"object"==r?Ut(n):Ft(n+"")}function gt(n,e,t,r,o,i,u){var a;if(t&&(a=o?t(n,r,o):t(n)),"undefined"!=typeof a)return a;if(!_i(n))return n;var c=Ba(n);if(c){if(a=vr(n),!e)return Je(n,a)}else{var l=Vu.call(n),s=l==Y;if(l!=X&&l!=W&&(!s||o))return De[l]?br(n,l,e):o?n:{};if(a=mr(s?{}:n),!e)return pt(n,a,Ga(n))}i||(i=[]),u||(u=[]);for(var f=i.length;f--;)if(i[f]==n)return u[f];return i.push(n),u.push(a),(c?Xe:Rt)(n,function(r,o){a[o]=gt(r,e,t,o,n,i,u)}),a}function vt(n,e,t,r){if(!yi(n))throw new Du(H);return ia(function(){n.apply(O,Ht(t,r))},e)}function mt(n,e){var t=n?n.length:0,r=[];if(!t)return r;var i=-1,u=dr(),a=u==o,c=a&&e.length>=200&&Ca(e),l=e.length;c&&(u=Me,a=!1,e=c);n:for(;++i<t;){var s=n[i];if(a&&s===s){for(var f=l;f--;)if(e[f]===s)continue n;r.push(s)}else u(e,s)<0&&r.push(s)}return r}function bt(n,e){var t=n?n.length:0;if(!wr(t))return Rt(n,e);for(var r=-1,o=Cr(n);++r<t&&e(o[r],r,o)!==!1;);return n}function yt(n,e){var t=n?n.length:0;if(!wr(t))return $t(n,e);for(var r=Cr(n);t--&&e(r[t],t,r)!==!1;);return n}function _t(n,e){var t=!0;return bt(n,function(n,r,o){return t=!!e(n,r,o)}),t}function xt(n,e){var t=[];return bt(n,function(n,r,o){e(n,r,o)&&t.push(n)}),t}function wt(n,e,t,r){var o;return t(n,function(n,t,i){return e(n,t,i)?(o=r?t:n,!1):void 0}),o}function kt(n,e,t,r){for(var o=(r||0)-1,i=n.length,u=-1,a=[];++o<i;){var c=n[o];if(v(c)&&wr(c.length)&&(Ba(c)||pi(c))){e&&(c=kt(c,e,t));var l=-1,s=c.length;for(a.length+=s;++l<s;)a[++u]=c[l]}else t||(a[++u]=c)}return a}function Ot(n,e,t){for(var r=-1,o=Cr(n),i=t(n),u=i.length;++r<u;){var a=i[r];if(e(o[a],a,o)===!1)break}return n}function St(n,e,t){for(var r=Cr(n),o=t(n),i=o.length;i--;){var u=o[i];if(e(r[u],u,r)===!1)break}return n}function Et(n,e){return Ot(n,e,Ki)}function Rt(n,e){return Ot(n,e,Ga)}function $t(n,e){return St(n,e,Ga)}function Tt(n,e){for(var t=-1,r=e.length,o=-1,i=[];++t<r;){var u=e[t];yi(n[u])&&(i[++o]=u)}return i}function At(n,e,t){var r=-1,o="function"==typeof e,i=n?n.length:0,u=wr(i)?Au(i):[];return bt(n,function(n){var i=o?e:null!=n&&n[e];u[++r]=i?i.apply(n,t):O}),u}function Ct(n,e,t,r,o,i){if(n===e)return 0!==n||1/n==1/e;var u=typeof n,a=typeof e;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==n||null==e?n!==n&&e!==e:jt(n,e,Ct,t,r,o,i)}function jt(n,e,t,r,o,i,u){var a=Ba(n),c=Ba(e),l=G,s=G;a||(l=Vu.call(n),l==W?l=X:l!=X&&(a=$i(n))),c||(s=Vu.call(e),s==W?s=X:s!=X&&(c=$i(e)));var f=l==X,p=s==X,h=l==s;if(h&&!a&&!f)return sr(n,e,l);var d=f&&Gu.call(n,"__wrapped__"),g=p&&Gu.call(e,"__wrapped__");if(d||g)return t(d?n.value():n,g?e.value():e,r,o,i,u);if(!h)return!1;i||(i=[]),u||(u=[]);for(var v=i.length;v--;)if(i[v]==n)return u[v]==e;i.push(n),u.push(e);var m=(a?lr:fr)(n,e,t,r,o,i,u);return i.pop(),u.pop(),m}function It(n,e,t,r,o){var i=e.length;if(null==n)return!i;for(var u=-1,a=!o;++u<i;)if(a&&r[u]?t[u]!==n[e[u]]:!Gu.call(n,e[u]))return!1;for(u=-1;++u<i;){var c=e[u];if(a&&r[u])var l=Gu.call(n,c);else{var s=n[c],f=t[u];l=o?o(s,f,c):O,"undefined"==typeof l&&(l=Ct(f,s,o,!0))}if(!l)return!1}return!0}function Pt(n,e){var t=[];return bt(n,function(n,r,o){t.push(e(n,r,o))}),t}function Ut(n){var e=Ga(n),t=e.length;if(1==t){var r=e[0],o=n[r];if(kr(o))return function(n){return null!=n&&o===n[r]&&Gu.call(n,r)}}for(var i=Au(t),u=Au(t);t--;)o=n[e[t]],i[t]=o,u[t]=kr(o);return function(n){return It(n,e,i,u)}}function Nt(n,e,t,r,o){var i=wr(e.length)&&(Ba(e)||$i(e));return(i?Xe:Rt)(e,function(e,u,a){if(v(e))return r||(r=[]),o||(o=[]),Lt(n,a,u,Nt,t,r,o);var c=n[u],l=t?t(c,e,u,n,a):O,s="undefined"==typeof l;s&&(l=e),!i&&"undefined"==typeof l||!s&&(l===l?l===c:c!==c)||(n[u]=l)}),n}function Lt(n,e,t,r,o,i,u){for(var a=i.length,c=e[t];a--;)if(i[a]==c)return void(n[t]=u[a]);var l=n[t],s=o?o(l,c,t,n,e):O,f="undefined"==typeof s;f&&(s=c,wr(c.length)&&(Ba(c)||$i(c))?s=Ba(l)?l:l?Je(l):[]:Ka(c)||pi(c)?s=pi(l)?Ci(l):Ka(l)?l:{}:f=!1),i.push(c),u.push(s),f?n[t]=r(s,c,o,i,u):(s===s?s!==l:l===l)&&(n[t]=s)}function Ft(n){return function(e){return null==e?O:e[n]}}function Dt(n,e){var t=e.length,o=ft(n,e);for(e.sort(r);t--;){var i=parseFloat(e[t]);if(i!=u&&_r(i)){var u=i;ua.call(n,i,1)}}return o}function zt(n,e){return n+na(ya()*(e-n+1))}function Bt(n,e,t,r,o){return o(n,function(n,o,i){t=r?(r=!1,n):e(t,n,o,i)}),t}function Ht(n,e,t){var r=-1,o=n.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),t="undefined"==typeof t||t>o?o:+t||0,0>t&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var i=Au(o);++r<o;)i[r]=n[r+e];return i}function Kt(n,e){var t;return bt(n,function(n,r,o){return t=e(n,r,o),!t}),!!t}function Wt(n,e){var t=-1,r=dr(),i=n.length,u=r==o,a=u&&i>=200,c=a&&Ca(),l=[];c?(r=Me,u=!1):(a=!1,c=e?[]:l);n:for(;++t<i;){var s=n[t],f=e?e(s,t,n):s;if(u&&s===s){for(var p=c.length;p--;)if(c[p]===f)continue n;e&&c.push(f),l.push(s)}else r(c,f)<0&&((e||a)&&c.push(f),l.push(s))}return l}function Gt(n,e){for(var t=-1,r=e.length,o=Au(r);++t<r;)o[t]=n[e[t]];return o}function qt(n,e){var t=n;t instanceof m&&(t=t.value());for(var r=-1,o=e.length;++r<o;){var i=[t],u=e[r];ta.apply(i,u.args),t=u.func.apply(u.thisArg,i)}return t}function Vt(n,e,t){var r=0,o=n?n.length:r;if("number"==typeof e&&e===e&&Oa>=o){for(;o>r;){var i=r+o>>>1,u=n[i];(t?e>=u:e>u)?r=i+1:o=i}return o}return Mt(n,e,_u,t)}function Mt(n,e,t,r){e=t(e);for(var o=0,i=n?n.length:0,u=e!==e,a="undefined"==typeof e;i>o;){var c=na((o+i)/2),l=t(n[c]),s=l===l;if(u)var f=s||r;else f=a?s&&(r||"undefined"!=typeof l):r?e>=l:e>l;f?o=c+1:i=c}return ga(i,ka)}function Yt(n,e,t){if("function"!=typeof n)return _u;if("undefined"==typeof e)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 3:return function(t,r,o){return n.call(e,t,r,o)};case 4:return function(t,r,o,i){return n.call(e,t,r,o,i)};case 5:return function(t,r,o,i,u){return n.call(e,t,r,o,i,u)}}return function(){return n.apply(e,arguments)}}function Jt(n){return Zu.call(n,0)}function Zt(n,e,t){for(var r=t.length,o=-1,i=da(n.length-r,0),u=-1,a=e.length,c=Au(i+a);++u<a;)c[u]=e[u];for(;++o<r;)c[t[o]]=n[o];for(;i--;)c[u++]=n[o++];return c}function Xt(n,e,t){for(var r=-1,o=t.length,i=-1,u=da(n.length-o,0),a=-1,c=e.length,l=Au(u+c);++i<u;)l[i]=n[i];for(var s=i;++a<c;)l[s+a]=e[a];for(;++r<o;)l[s+t[r]]=n[i++];return l}function Qt(n,e){return function(t,r,o){var i=e?e():{};if(r=hr(r,o,3),Ba(t))for(var u=-1,a=t.length;++u<a;){var c=t[u];n(i,c,r(c,u,t),t)}else bt(t,function(e,t,o){n(i,e,r(e,t,o),o)});return i}}function nr(n){return function(){var e=arguments.length,t=arguments[0];if(2>e||null==t)return t;if(e>3&&xr(arguments[1],arguments[2],arguments[3])&&(e=2),e>3&&"function"==typeof arguments[e-2])var r=Yt(arguments[--e-1],arguments[e--],5);else e>2&&"function"==typeof arguments[e-1]&&(r=arguments[--e]);for(var o=0;++o<e;){var i=arguments[o];i&&n(t,i,r)}return t}}function er(n,e){function t(){return(this instanceof t?r:n).apply(e,arguments)}var r=rr(n);return t}function tr(n){return function(e){for(var t=-1,r=vu(nu(e)),o=r.length,i="";++t<o;)i=n(i,r[t],t);return i}}function rr(n){return function(){var e=Ta(n.prototype),t=n.apply(e,arguments);return _i(t)?t:e}}function or(n,e){return function(t,r,o){o&&xr(t,r,o)&&(r=null);var i=hr(),u=null==r;if(i===dt&&u||(u=!1,r=i(r,o,3)),u){var c=Ba(t);if(c||!Ri(t))return n(c?t:Ar(t));r=a}return pr(t,r,e)}}function ir(n,e,t,r,o,i,u,a,c,l){function s(){for(var _=arguments.length,x=_,w=Au(_);x--;)w[x]=arguments[x];if(r&&(w=Zt(w,r,o)),i&&(w=Xt(w,i,u)),d||v){var k=s.placeholder,O=b(w,k);if(_-=O.length,l>_){var S=a?Je(a):null,$=da(l-_,0),T=d?O:null,A=d?null:O,I=d?w:null,P=d?null:w;e|=d?C:j,e&=~(d?j:C),g||(e&=~(E|R));var U=ir(n,e,t,I,T,P,A,S,c,$);return U.placeholder=k,U}}var N=p?t:this;return h&&(n=N[y]),a&&(w=Rr(w,a)),f&&c<w.length&&(w.length=c),(this instanceof s?m||rr(n):n).apply(N,w)}var f=e&P,p=e&E,h=e&R,d=e&T,g=e&$,v=e&A,m=!h&&rr(n),y=n;return s}function ur(n,e,t){var r=n.length;if(e=+e,r>=e||!pa(e))return"";var o=e-r;return t=null==t?" ":t+"",cu(t,Xu(o/t.length)).slice(0,o)}function ar(n,e,t,r){function o(){for(var e=-1,a=arguments.length,c=-1,l=r.length,s=Au(a+l);++c<l;)s[c]=r[c];for(;a--;)s[c++]=arguments[++e];return(this instanceof o?u:n).apply(i?t:this,s)}var i=e&E,u=rr(n);return o}function cr(n,e,t,r,o,i,u,a){var c=e&R;if(!c&&!yi(n))throw new Du(H);var l=r?r.length:0;if(l||(e&=~(C|j),r=o=null),l-=o?o.length:0,e&j){var s=r,f=o;r=o=null}var p=!c&&ja(n),h=[n,e,t,r,o,s,f,i,u,a];if(p&&p!==!0&&(Or(h,p),e=h[1],a=h[9]),h[9]=null==a?c?0:n.length:da(a-l,0)||0,e==E)var d=er(h[0],h[2]);else d=e!=C&&e!=(E|C)||h[4].length?ir.apply(null,h):ar.apply(null,h);var g=p?Aa:Ia;return g(d,h)}function lr(n,e,t,r,o,i,u){var a=-1,c=n.length,l=e.length,s=!0;if(c!=l&&!(o&&l>c))return!1;for(;s&&++a<c;){var f=n[a],p=e[a];if(s=O,r&&(s=o?r(p,f,a):r(f,p,a)),"undefined"==typeof s)if(o)for(var h=l;h--&&(p=e[h],!(s=f&&f===p||t(f,p,r,o,i,u))););else s=f&&f===p||t(f,p,r,o,i,u)}return!!s}function sr(n,e,t){switch(t){case q:case V:return+n==+e;case M:return n.name==e.name&&n.message==e.message;case Z:return n!=+n?e!=+e:0==n?1/n==1/e:n==+e;case Q:case ee:return n==e+""}return!1}function fr(n,e,t,r,o,i,u){var a=Ga(n),c=a.length,l=Ga(e),s=l.length;if(c!=s&&!o)return!1;for(var f,p=-1;++p<c;){var h=a[p],d=Gu.call(e,h);if(d){var g=n[h],v=e[h];d=O,r&&(d=o?r(v,g,h):r(g,v,h)),"undefined"==typeof d&&(d=g&&g===v||t(g,v,r,o,i,u))}if(!d)return!1;f||(f="constructor"==h)}if(!f){var m=n.constructor,b=e.constructor;if(m!=b&&"constructor"in n&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b))return!1}return!0}function pr(n,e,t){var r=t?xa:_a,o=r,i=o;return bt(n,function(n,u,a){var c=e(n,u,a);((t?o>c:c>o)||c===r&&c===i)&&(o=c,i=n)}),i}function hr(n,t,r){var o=e.callback||bu;return o=o===bu?dt:o,r?o(n,t,r):o}function dr(n,t,r){var i=e.indexOf||Wr;return i=i===Wr?o:i,n?i(n,t,r):i}function gr(n,e,t){for(var r=-1,o=t?t.length:0;++r<o;){var i=t[r],u=i.size;switch(i.type){case"drop":n+=u;break;case"dropRight":e-=u;break;case"take":e=ga(e,n+u);break;case"takeRight":n=da(n,e-u)}}return{start:n,end:e}}function vr(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&Gu.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function mr(n){var e=n.constructor;return"function"==typeof e&&e instanceof e||(e=Nu),new e}function br(n,e,t){var r=n.constructor;switch(e){case re:return Jt(n);case q:case V:return new r(+n);case oe:case ie:case ue:case ae:case ce:case le:case se:case fe:case pe:var o=n.buffer;return new r(t?Jt(o):o,n.byteOffset,n.length);case Z:case ee:return new r(n);case Q:var i=new r(n.source,Oe.exec(n));i.lastIndex=n.lastIndex}return i}function yr(n){var t=e.support,r=!(t.funcNames?n.name:t.funcDecomp);if(!r){var o=Ku.call(n);t.funcNames||(r=!Se.test(o)),r||(r=je.test(o)||ki(n),Aa(n,r))}return r}function _r(n,e){return n=+n,e=null==e?Ea:e,n>-1&&n%1==0&&e>n}function xr(n,e,t){if(!_i(t))return!1;var r=typeof e;if("number"==r)var o=t.length,i=wr(o)&&_r(e,o);else i="string"==r&&e in t;return i&&t[e]===n}function wr(n){return"number"==typeof n&&n>-1&&n%1==0&&Ea>=n}function kr(n){return n===n&&(0===n?1/n>0:!_i(n))}function Or(n,e){var t=n[1],r=e[1],o=t|r,i=P|I,u=E|R,a=i|u|$|A,c=t&P&&!(r&P),l=t&I&&!(r&I),s=(l?n:e)[7],f=(c?n:e)[8],p=!(t>=I&&r>u||t>u&&r>=I),h=o>=i&&a>=o&&(I>t||(l||c)&&s.length<=f);if(!p&&!h)return n;r&E&&(n[2]=e[2],o|=t&E?0:$);var d=e[3];if(d){var g=n[3];n[3]=g?Zt(g,d,e[4]):Je(d),n[4]=g?b(n[3],K):Je(e[4])}return d=e[5],d&&(g=n[5],n[5]=g?Xt(g,d,e[6]):Je(d),n[6]=g?b(n[5],K):Je(e[6])),d=e[7],d&&(n[7]=Je(d)),r&P&&(n[8]=null==n[8]?e[8]:ga(n[8],e[8])),null==n[9]&&(n[9]=e[9]),n[0]=e[0],n[1]=o,n}function Sr(n,e){n=Cr(n);for(var t=-1,r=e.length,o={};++t<r;){var i=e[t];i in n&&(o[i]=n[i])}return o}function Er(n,e){var t={};return Et(n,function(n,r,o){e(n,r,o)&&(t[r]=n)}),t}function Rr(n,e){for(var t=n.length,r=ga(e.length,t),o=Je(n);r--;){var i=e[r];n[r]=_r(i,t)?o[i]:O}return n}function $r(n){{var t;e.support}if(!v(n)||Vu.call(n)!=X||!Gu.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return Et(n,function(n,e){r=e}),"undefined"==typeof r||Gu.call(n,r)}function Tr(n){for(var t=Ki(n),r=t.length,o=r&&n.length,i=e.support,u=o&&wr(o)&&(Ba(n)||i.nonEnumArgs&&pi(n)),a=-1,c=[];++a<r;){var l=t[a];(u&&_r(l,o)||Gu.call(n,l))&&c.push(l)}return c}function Ar(n){return null==n?[]:wr(n.length)?_i(n)?n:Nu(n):Ji(n)}function Cr(n){return _i(n)?n:Nu(n)}function jr(n,e,t){e=(t?xr(n,e,t):null==e)?1:da(+e||1,1);for(var r=0,o=n?n.length:0,i=-1,u=Au(Xu(o/e));o>r;)u[++i]=Ht(n,r,r+=e);return u}function Ir(n){for(var e=-1,t=n?n.length:0,r=-1,o=[];++e<t;){var i=n[e];i&&(o[++r]=i)}return o}function Pr(){for(var n=-1,e=arguments.length;++n<e;){var t=arguments[n];if(Ba(t)||pi(t))break}return mt(t,kt(arguments,!1,!0,++n))}function Ur(n,e,t){var r=n?n.length:0;return r?((t?xr(n,e,t):null==e)&&(e=1),Ht(n,0>e?0:e)):[]}function Nr(n,e,t){var r=n?n.length:0;return r?((t?xr(n,e,t):null==e)&&(e=1),e=r-(+e||0),Ht(n,0,0>e?0:e)):[]}function Lr(n,e,t){var r=n?n.length:0;if(!r)return[];for(e=hr(e,t,3);r--&&e(n[r],r,n););return Ht(n,0,r+1)}function Fr(n,e,t){var r=n?n.length:0;if(!r)return[];var o=-1;for(e=hr(e,t,3);++o<r&&e(n[o],o,n););return Ht(n,o)}function Dr(n,e,t){var r=-1,o=n?n.length:0;for(e=hr(e,t,3);++r<o;)if(e(n[r],r,n))return r;return-1}function zr(n,e,t){var r=n?n.length:0;for(e=hr(e,t,3);r--;)if(e(n[r],r,n))return r;return-1}function Br(n){return n?n[0]:O}function Hr(n,e,t){var r=n?n.length:0;return t&&xr(n,e,t)&&(e=!1),r?kt(n,e):[]}function Kr(n){var e=n?n.length:0;return e?kt(n,!0):[]}function Wr(n,e,t){var r=n?n.length:0;if(!r)return-1;if("number"==typeof t)t=0>t?da(r+t,0):t||0;else if(t){var i=Vt(n,e),u=n[i];return(e===e?e===u:u!==u)?i:-1}return o(n,e,t)}function Gr(n){return Nr(n,1)}function qr(){for(var n=[],e=-1,t=arguments.length,r=[],i=dr(),u=i==o;++e<t;){var a=arguments[e];(Ba(a)||pi(a))&&(n.push(a),r.push(u&&a.length>=120&&Ca(e&&a)))}t=n.length;var c=n[0],l=-1,s=c?c.length:0,f=[],p=r[0];n:for(;++l<s;)if(a=c[l],(p?Me(p,a):i(f,a))<0){for(e=t;--e;){var h=r[e];if((h?Me(h,a):i(n[e],a))<0)continue n}p&&p.push(a),f.push(a)}return f}function Vr(n){var e=n?n.length:0;return e?n[e-1]:O}function Mr(n,e,t){var r=n?n.length:0;if(!r)return-1;var o=r;if("number"==typeof t)o=(0>t?da(r+t,0):ga(t||0,r-1))+1;else if(t){o=Vt(n,e,!0)-1;var i=n[o];return(e===e?e===i:i!==i)?o:-1}if(e!==e)return g(n,o,!0);for(;o--;)if(n[o]===e)return o;return-1}function Yr(){var n=arguments[0];if(!n||!n.length)return n;for(var e=0,t=dr(),r=arguments.length;++e<r;)for(var o=0,i=arguments[e];(o=t(n,i,o))>-1;)ua.call(n,o,1);return n}function Jr(n){return Dt(n||[],kt(arguments,!1,!1,1))}function Zr(n,e,t){var r=-1,o=n?n.length:0,i=[];for(e=hr(e,t,3);++r<o;){var u=n[r];e(u,r,n)&&(i.push(u),ua.call(n,r--,1),o--)}return i}function Xr(n){return Ur(n,1)}function Qr(n,e,t){var r=n?n.length:0;return r?(t&&"number"!=typeof t&&xr(n,e,t)&&(e=0,t=r),Ht(n,e,t)):[]}function no(n,e,t,r){var o=hr(t);return o===dt&&null==t?Vt(n,e):Mt(n,e,o(t,r,1))}function eo(n,e,t,r){var o=hr(t);return o===dt&&null==t?Vt(n,e,!0):Mt(n,e,o(t,r,1),!0)}function to(n,e,t){var r=n?n.length:0;return r?((t?xr(n,e,t):null==e)&&(e=1),Ht(n,0,0>e?0:e)):[]}function ro(n,e,t){var r=n?n.length:0;return r?((t?xr(n,e,t):null==e)&&(e=1),e=r-(+e||0),Ht(n,0>e?0:e)):[]}function oo(n,e,t){var r=n?n.length:0;if(!r)return[];for(e=hr(e,t,3);r--&&e(n[r],r,n););return Ht(n,r+1)}function io(n,e,t){var r=n?n.length:0;if(!r)return[];var o=-1;for(e=hr(e,t,3);++o<r&&e(n[o],o,n););return Ht(n,0,o)}function uo(){return Wt(kt(arguments,!1,!0))}function ao(n,e,t,r){var i=n?n.length:0;if(!i)return[];"boolean"!=typeof e&&null!=e&&(r=t,t=xr(n,e,r)?null:e,e=!1);var u=hr();return(u!==dt||null!=t)&&(t=u(t,r,3)),e&&dr()==o?y(n,t):Wt(n,t)}function co(n){for(var e=-1,t=(n&&n.length&&rt(tt(n,Wu)))>>>0,r=Au(t);++e<t;)r[e]=tt(n,Ft(e));return r}function lo(n){return mt(n,Ht(arguments,1))}function so(){for(var n=-1,e=arguments.length;++n<e;){var t=arguments[n];if(Ba(t)||pi(t))var r=r?mt(r,t).concat(mt(t,r)):t}return r?Wt(r):[]}function fo(){for(var n=arguments.length,e=Au(n);n--;)e[n]=arguments[n];return co(e)}function po(n,e){var t=-1,r=n?n.length:0,o={};for(!r||e||Ba(n[0])||(e=[]);++t<r;){var i=n[t];e?o[i]=e[t]:i&&(o[i[0]]=i[1])}return o}function ho(n){var t=e(n);return t.__chain__=!0,t}function go(n,e,t){return e.call(t,n),n}function vo(n,e,t){return e.call(t,n)}function mo(){return ho(this)}function bo(){var n=this.__wrapped__;return n instanceof m?(this.__actions__.length&&(n=new m(this)),new t(n.reverse())):this.thru(function(n){return n.reverse()})}function yo(){return this.value()+""}function _o(){return qt(this.__wrapped__,this.__actions__)}function xo(n){var e=n?n.length:0;return wr(e)&&(n=Ar(n)),ft(n,kt(arguments,!1,!1,1))}function wo(n,e,t){var r=n?n.length:0;return wr(r)||(n=Ji(n),r=n.length),r?(t="number"==typeof t?0>t?da(r+t,0):t||0:0,"string"==typeof n||!Ba(n)&&Ri(n)?r>t&&n.indexOf(e,t)>-1:dr(n,e,t)>-1):!1}function ko(n,e,t){var r=Ba(n)?nt:_t;return("function"!=typeof e||"undefined"!=typeof t)&&(e=hr(e,t,3)),r(n,e)}function Oo(n,e,t){var r=Ba(n)?et:xt;return e=hr(e,t,3),r(n,e)}function So(n,e,t){if(Ba(n)){var r=Dr(n,e,t);return r>-1?n[r]:O}return e=hr(e,t,3),wt(n,e,bt)}function Eo(n,e,t){return e=hr(e,t,3),wt(n,e,yt)}function Ro(n,e){return So(n,Ut(e))}function $o(n,e,t){return"function"==typeof e&&"undefined"==typeof t&&Ba(n)?Xe(n,e):bt(n,Yt(e,t,3))}function To(n,e,t){return"function"==typeof e&&"undefined"==typeof t&&Ba(n)?Qe(n,e):yt(n,Yt(e,t,3))}function Ao(n,e){return At(n,e,Ht(arguments,2))}function Co(n,e,t){var r=Ba(n)?tt:Pt;return e=hr(e,t,3),r(n,e)}function jo(n,e){return Co(n,Ft(e+""))}function Io(n,e,t,r){var o=Ba(n)?it:Bt;return o(n,hr(e,r,4),t,arguments.length<3,bt)}function Po(n,e,t,r){var o=Ba(n)?ut:Bt;return o(n,hr(e,r,4),t,arguments.length<3,yt)}function Uo(n,e,t){var r=Ba(n)?et:xt;return e=hr(e,t,3),r(n,function(n,t,r){return!e(n,t,r)})}function No(n,e,t){if(t?xr(n,e,t):null==e){n=Ar(n);var r=n.length;return r>0?n[zt(0,r-1)]:O}var o=Lo(n);return o.length=ga(0>e?0:+e||0,o.length),o}function Lo(n){n=Ar(n);for(var e=-1,t=n.length,r=Au(t);++e<t;){var o=zt(0,e);e!=o&&(r[e]=r[o]),r[o]=n[e]}return r}function Fo(n){var e=n?n.length:0;return wr(e)?e:Ga(n).length}function Do(n,e,t){var r=Ba(n)?at:Kt;return("function"!=typeof e||"undefined"!=typeof t)&&(e=hr(e,t,3)),r(n,e)}function zo(n,e,t){var r=-1,o=n?n.length:0,u=wr(o)?Au(o):[];return t&&xr(n,e,t)&&(e=null),e=hr(e,t,3),bt(n,function(n,t,o){u[++r]={criteria:e(n,t,o),index:r,value:n}}),i(u,s)}function Bo(n){var e=arguments;e.length>3&&xr(e[1],e[2],e[3])&&(e=[n,e[1]]);var t=-1,r=n?n.length:0,o=kt(e,!1,!1,1),u=wr(r)?Au(r):[];return bt(n,function(n){for(var e=o.length,r=Au(e);e--;)r[e]=null==n?O:n[o[e]];u[++t]={criteria:r,index:t,value:n}}),i(u,f)}function Ho(n,e){return Oo(n,Ut(e))}function Ko(n,e){if(!yi(e)){if(!yi(n))throw new Du(H);var t=n;n=e,e=t}return n=pa(n=+n)?n:0,function(){return--n<1?e.apply(this,arguments):void 0}}function Wo(n,e,t){return t&&xr(n,e,t)&&(e=null),e=n&&null==e?n.length:da(+e||0,0),cr(n,P,null,null,null,null,e)}function Go(n,e){var t;if(!yi(e)){if(!yi(n))throw new Du(H);var r=n;n=e,e=r}return function(){return--n>0?t=e.apply(this,arguments):e=null,t}}function qo(n,e){var t=E;if(arguments.length>2){var r=Ht(arguments,2),o=b(r,qo.placeholder);t|=C}return cr(n,t,e,r,o)}function Vo(n){return ht(n,arguments.length>1?kt(arguments,!1,!1,1):zi(n))}function Mo(n,e){var t=E|R;if(arguments.length>2){var r=Ht(arguments,2),o=b(r,Mo.placeholder);t|=C}return cr(e,t,n,r,o)}function Yo(n,e,t){t&&xr(n,e,t)&&(e=null);var r=cr(n,T,null,null,null,null,null,e);return r.placeholder=Yo.placeholder,r}function Jo(n,e,t){t&&xr(n,e,t)&&(e=null);var r=cr(n,A,null,null,null,null,null,e);return r.placeholder=Jo.placeholder,r}function Zo(n,e,t){function r(){p&&Qu(p),c&&Qu(c),c=p=h=O}function o(){var t=e-(za()-s);if(0>=t||t>e){c&&Qu(c);var r=h;c=p=h=O,r&&(d=za(),l=n.apply(f,a),p||c||(a=f=null))}else p=ia(o,t)}function i(){p&&Qu(p),c=p=h=O,(v||g!==e)&&(d=za(),l=n.apply(f,a),p||c||(a=f=null))}function u(){if(a=arguments,s=za(),f=this,h=v&&(p||!m),g===!1)var t=m&&!p;else{c||m||(d=s);var r=g-(s-d),u=0>=r||r>g;u?(c&&(c=Qu(c)),d=s,l=n.apply(f,a)):c||(c=ia(i,r))}return u&&p?p=Qu(p):p||e===g||(p=ia(o,e)),t&&(u=!0,l=n.apply(f,a)),!u||p||c||(a=f=null),l}var a,c,l,s,f,p,h,d=0,g=!1,v=!0;if(!yi(n))throw new Du(H);if(e=0>e?0:e,t===!0){var m=!0;v=!1}else _i(t)&&(m=t.leading,g="maxWait"in t&&da(+t.maxWait||0,e),v="trailing"in t?t.trailing:v);return u.cancel=r,u}function Xo(n){return vt(n,1,arguments,1)}function Qo(n,e){return vt(n,e,arguments,2)}function ni(){var n=arguments,e=n.length;if(!e)return function(){};if(!nt(n,yi))throw new Du(H);return function(){for(var t=0,r=n[t].apply(this,arguments);++t<e;)r=n[t].call(this,r);return r}}function ei(){var n=arguments,e=n.length-1;if(0>e)return function(){};if(!nt(n,yi))throw new Du(H);return function(){for(var t=e,r=n[t].apply(this,arguments);t--;)r=n[t].call(this,r);return r}}function ti(n,e){if(!yi(n)||e&&!yi(e))throw new Du(H);var t=function(){var r=t.cache,o=e?e.apply(this,arguments):arguments[0];if(r.has(o))return r.get(o);var i=n.apply(this,arguments);return r.set(o,i),i};return t.cache=new ti.Cache,t}function ri(n){if(!yi(n))throw new Du(H);return function(){return!n.apply(this,arguments)}}function oi(n){return Go(n,2)}function ii(n){var e=Ht(arguments,1),t=b(e,ii.placeholder);return cr(n,C,null,e,t)}function ui(n){var e=Ht(arguments,1),t=b(e,ui.placeholder);return cr(n,j,null,e,t)}function ai(n){var e=kt(arguments,!1,!1,1);return cr(n,I,null,null,null,e)}function ci(n,e,t){var r=!0,o=!0;if(!yi(n))throw new Du(H);return t===!1?r=!1:_i(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),ze.leading=r,ze.maxWait=+e,ze.trailing=o,Zo(n,e,ze)}function li(n,e){return e=null==e?_u:e,cr(e,C,null,[n],[])}function si(n,e,t,r){return"boolean"!=typeof e&&null!=e&&(r=t,t=xr(n,e,r)?null:e,e=!1),t="function"==typeof t&&Yt(t,r,1),gt(n,e,t)}function fi(n,e,t){return e="function"==typeof e&&Yt(e,t,1),gt(n,!0,e)}function pi(n){var e=v(n)?n.length:O;return wr(e)&&Vu.call(n)==W||!1}function hi(n){return n===!0||n===!1||v(n)&&Vu.call(n)==q||!1}function di(n){return v(n)&&Vu.call(n)==V||!1}function gi(n){return n&&1===n.nodeType&&v(n)&&Vu.call(n).indexOf("Element")>-1||!1}function vi(n){if(null==n)return!0;var e=n.length;return wr(e)&&(Ba(n)||Ri(n)||pi(n)||v(n)&&yi(n.splice))?!e:!Ga(n).length}function mi(n,e,t,r){if(t="function"==typeof t&&Yt(t,r,3),!t&&kr(n)&&kr(e))return n===e;var o=t?t(n,e):O;return"undefined"==typeof o?Ct(n,e,t):!!o}function bi(n){return v(n)&&"string"==typeof n.message&&Vu.call(n)==M||!1}function yi(n){return"function"==typeof n||!1}function _i(n){var e=typeof n;return"function"==e||n&&"object"==e||!1}function xi(n,e,t,r){var o=Ga(e),i=o.length;if(t="function"==typeof t&&Yt(t,r,3),!t&&1==i){var u=o[0],a=e[u];if(kr(a))return null!=n&&a===n[u]&&Gu.call(n,u)}for(var c=Au(i),l=Au(i);i--;)a=c[i]=e[o[i]],l[i]=kr(a);return It(n,o,c,l,t)}function wi(n){return Si(n)&&n!=+n}function ki(n){return null==n?!1:Vu.call(n)==Y?Yu.test(Ku.call(n)):v(n)&&Re.test(n)||!1}function Oi(n){return null===n}function Si(n){return"number"==typeof n||v(n)&&Vu.call(n)==Z||!1}function Ei(n){return v(n)&&Vu.call(n)==Q||!1}function Ri(n){return"string"==typeof n||v(n)&&Vu.call(n)==ee||!1}function $i(n){return v(n)&&wr(n.length)&&Fe[Vu.call(n)]||!1}function Ti(n){return"undefined"==typeof n}function Ai(n){var e=n?n.length:0;return wr(e)?e?Je(n):[]:Ji(n)}function Ci(n){return pt(n,Ki(n))}function ji(n,e,t){var r=Ta(n);return t&&xr(n,e,t)&&(e=null),e?pt(e,r,Ga(e)):r}function Ii(n){if(null==n)return n;var e=Je(arguments);return e.push(ct),Wa.apply(O,e)}function Pi(n,e,t){return e=hr(e,t,3),wt(n,e,Rt,!0)}function Ui(n,e,t){return e=hr(e,t,3),wt(n,e,$t,!0)}function Ni(n,e,t){return("function"!=typeof e||"undefined"!=typeof t)&&(e=Yt(e,t,3)),Ot(n,e,Ki)}function Li(n,e,t){return e=Yt(e,t,3),St(n,e,Ki)}function Fi(n,e,t){return("function"!=typeof e||"undefined"!=typeof t)&&(e=Yt(e,t,3)),Rt(n,e)}function Di(n,e,t){return e=Yt(e,t,3),St(n,e,Ga)}function zi(n){return Tt(n,Ki(n))}function Bi(n,e){return n?Gu.call(n,e):!1}function Hi(n,e,t){t&&xr(n,e,t)&&(e=null);for(var r=-1,o=Ga(n),i=o.length,u={};++r<i;){var a=o[r],c=n[a];e?Gu.call(u,c)?u[c].push(a):u[c]=[a]:u[c]=a}return u}function Ki(n){if(null==n)return[];_i(n)||(n=Nu(n));var e=n.length;e=e&&wr(e)&&(Ba(n)||$a.nonEnumArgs&&pi(n))&&e||0;for(var t=n.constructor,r=-1,o="function"==typeof t&&t.prototype==n,i=Au(e),u=e>0;++r<e;)i[r]=r+"";for(var a=void 0 in n)u&&_r(a,e)||"constructor"==a&&(o||!Gu.call(n,a))||i.push(a);return i}function Wi(n,e,t){var r={};return e=hr(e,t,3),Rt(n,function(n,t,o){r[t]=e(n,t,o)}),r}function Gi(n,e,t){if(null==n)return{};if("function"!=typeof e){var r=tt(kt(arguments,!1,!1,1),Fu);return Sr(n,mt(Ki(n),r))}return e=Yt(e,t,3),Er(n,function(n,t,r){return!e(n,t,r)})}function qi(n){for(var e=-1,t=Ga(n),r=t.length,o=Au(r);++e<r;){var i=t[e];o[e]=[i,n[i]]}return o}function Vi(n,e,t){return null==n?{}:"function"==typeof e?Er(n,Yt(e,t,3)):Sr(n,kt(arguments,!1,!1,1))}function Mi(n,e,t){var r=null==n?O:n[e];return"undefined"==typeof r&&(r=t),yi(r)?r.call(n):r}function Yi(n,e,t,r){var o=Ba(n)||$i(n);if(e=hr(e,r,4),null==t)if(o||_i(n)){var i=n.constructor;t=o?Ba(n)?new i:[]:Ta("function"==typeof i&&i.prototype)}else t={};return(o?Xe:Rt)(n,function(n,r,o){return e(t,n,r,o)}),t}function Ji(n){return Gt(n,Ga(n))}function Zi(n){return Gt(n,Ki(n))}function Xi(n,e,t){t&&xr(n,e,t)&&(e=t=null);var r=null==n,o=null==e;if(null==t&&(o&&"boolean"==typeof n?(t=n,n=1):"boolean"==typeof e&&(t=e,o=!0)),r&&o&&(e=1,o=!1),n=+n||0,o?(e=n,n=0):e=+e||0,t||n%1||e%1){var i=ya();return ga(n+i*(e-n+parseFloat("1e-"+((i+"").length-1))),e)}return zt(n,e)}function Qi(n){return n=u(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function nu(n){return n=u(n),n&&n.replace($e,p)}function eu(n,e,t){n=u(n),e+="";var r=n.length;return t=("undefined"==typeof t?r:ga(0>t?0:+t||0,r))-e.length,t>=0&&n.indexOf(e,t)==t}function tu(n){return n=u(n),n&&ye.test(n)?n.replace(me,h):n}function ru(n){return n=u(n),n&&Ce.test(n)?n.replace(Ae,"\\$&"):n}function ou(n,e,t){n=u(n),e=+e;var r=n.length;if(r>=e||!pa(e))return n;var o=(e-r)/2,i=na(o),a=Xu(o);return t=ur("",a,t),t.slice(0,i)+n+t}function iu(n,e,t){return n=u(n),n&&ur(n,e,t)+n}function uu(n,e,t){return n=u(n),n&&n+ur(n,e,t)}function au(n,e,t){return t&&xr(n,e,t)&&(e=0),ba(n,e)}function cu(n,e){var t="";if(n=u(n),e=+e,1>e||!n||!pa(e))return t;do e%2&&(t+=n),e=na(e/2),n+=n;while(e);return t}function lu(n,e,t){return n=u(n),t=null==t?0:ga(0>t?0:+t||0,n.length),n.lastIndexOf(e,t)==t}function su(n,t,r){var o=e.templateSettings;r&&xr(n,t,r)&&(t=r=null),n=u(n),t=st(st({},r||t),o,lt);
var i,a,c=st(st({},t.imports),o.imports,lt),l=Ga(c),s=Gt(c,l),f=0,p=t.interpolate||Te,h="__p += '",g=Lu((t.escape||Te).source+"|"+p.source+"|"+(p===we?ke:Te).source+"|"+(t.evaluate||Te).source+"|$","g"),v="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Le+"]")+"\n";n.replace(g,function(e,t,r,o,u,c){return r||(r=o),h+=n.slice(f,c).replace(Ie,d),t&&(i=!0,h+="' +\n__e("+t+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+e.length,e}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(he,""):h).replace(de,"$1").replace(ge,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var b=mu(function(){return Iu(l,v+"return "+h).apply(O,s)});if(b.source=h,bi(b))throw b;return b}function fu(n,e,t){var r=n;return(n=u(n))?(t?xr(r,e,t):null==e)?n.slice(_(n),x(n)+1):(e+="",n.slice(c(n,e),l(n,e)+1)):n}function pu(n,e,t){var r=n;return n=u(n),n?n.slice((t?xr(r,e,t):null==e)?_(n):c(n,e+"")):n}function hu(n,e,t){var r=n;return n=u(n),n?(t?xr(r,e,t):null==e)?n.slice(0,x(n)+1):n.slice(0,l(n,e+"")+1):n}function du(n,e,t){t&&xr(n,e,t)&&(e=null);var r=U,o=N;if(null!=e)if(_i(e)){var i="separator"in e?e.separator:i;r="length"in e?+e.length||0:r,o="omission"in e?u(e.omission):o}else r=+e||0;if(n=u(n),r>=n.length)return n;var a=r-o.length;if(1>a)return o;var c=n.slice(0,a);if(null==i)return c+o;if(Ei(i)){if(n.slice(a).search(i)){var l,s,f=n.slice(0,a);for(i.global||(i=Lu(i.source,(Oe.exec(i)||"")+"g")),i.lastIndex=0;l=i.exec(f);)s=l.index;c=c.slice(0,null==s?a:s)}}else if(n.indexOf(i,a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+o}function gu(n){return n=u(n),n&&be.test(n)?n.replace(ve,w):n}function vu(n,e,t){return t&&xr(n,e,t)&&(e=null),n=u(n),n.match(e||Pe)||[]}function mu(n){try{return n()}catch(e){return bi(e)?e:ju(e)}}function bu(n,e,t){return t&&xr(n,e,t)&&(e=null),v(n)?xu(n):dt(n,e)}function yu(n){return function(){return n}}function _u(n){return n}function xu(n){return Ut(gt(n,!0))}function wu(n,e,t){if(null==t){var r=_i(e),o=r&&Ga(e),i=o&&o.length&&Tt(e,o);(i?i.length:r)||(i=!1,t=e,e=n,n=this)}i||(i=Tt(e,Ga(e)));var u=!0,a=-1,c=yi(n),l=i.length;t===!1?u=!1:_i(t)&&"chain"in t&&(u=t.chain);for(;++a<l;){var s=i[a],f=e[s];n[s]=f,c&&(n.prototype[s]=function(e){return function(){var t=this.__chain__;if(u||t){var r=n(this.__wrapped__);return(r.__actions__=Je(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}var o=[this.value()];return ta.apply(o,arguments),e.apply(n,o)}}(f))}return n}function ku(){return n._=Mu,this}function Ou(){}function Su(n){return Ft(n+"")}function Eu(n){return function(e){return null==n?O:n[e]}}function Ru(n,e,t){t&&xr(n,e,t)&&(e=t=null),n=+n||0,t=null==t?1:+t||0,null==e?(e=n,n=0):e=+e||0;for(var r=-1,o=da(Xu((e-n)/(t||1)),0),i=Au(o);++r<o;)i[r]=n,n+=t;return i}function $u(n,e,t){if(n=+n,1>n||!pa(n))return[];var r=-1,o=Au(ga(n,wa));for(e=Yt(e,t,1);++r<n;)wa>r?o[r]=e(r):e(r);return o}function Tu(n){var e=++qu;return u(n)+e}n=n?Ze.defaults(qe.Object(),n,Ze.pick(qe,Ne)):qe;var Au=n.Array,Cu=n.Date,ju=n.Error,Iu=n.Function,Pu=n.Math,Uu=n.Number,Nu=n.Object,Lu=n.RegExp,Fu=n.String,Du=n.TypeError,zu=Au.prototype,Bu=Nu.prototype,Hu=(Hu=n.window)&&Hu.document,Ku=Iu.prototype.toString,Wu=Ft("length"),Gu=Bu.hasOwnProperty,qu=0,Vu=Bu.toString,Mu=n._,Yu=Lu("^"+ru(Vu).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ju=ki(Ju=n.ArrayBuffer)&&Ju,Zu=ki(Zu=Ju&&new Ju(0).slice)&&Zu,Xu=Pu.ceil,Qu=n.clearTimeout,na=Pu.floor,ea=ki(ea=Nu.getPrototypeOf)&&ea,ta=zu.push,ra=Bu.propertyIsEnumerable,oa=ki(oa=n.Set)&&oa,ia=n.setTimeout,ua=zu.splice,aa=ki(aa=n.Uint8Array)&&aa,ca=(zu.unshift,ki(ca=n.WeakMap)&&ca),la=function(){try{var e=ki(e=n.Float64Array)&&e,t=new e(new Ju(10),0,1)&&e}catch(r){}return t}(),sa=ki(sa=Au.isArray)&&sa,fa=ki(fa=Nu.create)&&fa,pa=n.isFinite,ha=ki(ha=Nu.keys)&&ha,da=Pu.max,ga=Pu.min,va=ki(va=Cu.now)&&va,ma=ki(ma=Uu.isFinite)&&ma,ba=n.parseInt,ya=Pu.random,_a=Uu.NEGATIVE_INFINITY,xa=Uu.POSITIVE_INFINITY,wa=Pu.pow(2,32)-1,ka=wa-1,Oa=wa>>>1,Sa=la?la.BYTES_PER_ELEMENT:0,Ea=Pu.pow(2,53)-1,Ra=ca&&new ca,$a=e.support={};!function(){$a.funcDecomp=!ki(n.WinRTError)&&je.test(k),$a.funcNames="string"==typeof Iu.name;try{$a.dom=11===Hu.createDocumentFragment().nodeType}catch(e){$a.dom=!1}try{$a.nonEnumArgs=!ra.call(arguments,1)}catch(e){$a.nonEnumArgs=!0}}(0,0),e.templateSettings={escape:_e,evaluate:xe,interpolate:we,variable:"",imports:{_:e}};var Ta=function(){function e(){}return function(t){if(_i(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}(),Aa=Ra?function(n,e){return Ra.set(n,e),n}:_u;Zu||(Jt=Ju&&aa?function(n){var e=n.byteLength,t=la?na(e/Sa):0,r=t*Sa,o=new Ju(e);if(t){var i=new la(o,0,t);i.set(new la(n,0,t))}return e!=r&&(i=new aa(o,r),i.set(new aa(n,r))),o}:yu(null));var Ca=fa&&oa?function(n){return new Ve(n)}:yu(null),ja=Ra?function(n){return Ra.get(n)}:Ou,Ia=function(){var n=0,e=0;return function(t,r){var o=za(),i=F-(o-e);if(e=o,i>0){if(++n>=L)return t}else n=0;return Aa(t,r)}}(),Pa=Qt(function(n,e,t){Gu.call(n,t)?++n[t]:n[t]=1}),Ua=Qt(function(n,e,t){Gu.call(n,t)?n[t].push(e):n[t]=[e]}),Na=Qt(function(n,e,t){n[t]=e}),La=or(rt),Fa=or(ot,!0),Da=Qt(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),za=va||function(){return(new Cu).getTime()},Ba=sa||function(n){return v(n)&&wr(n.length)&&Vu.call(n)==G||!1};$a.dom||(gi=function(n){return n&&1===n.nodeType&&v(n)&&!Ka(n)||!1});var Ha=ma||function(n){return"number"==typeof n&&pa(n)};(yi(/x/)||aa&&!yi(aa))&&(yi=function(n){return Vu.call(n)==Y});var Ka=ea?function(n){if(!n||Vu.call(n)!=X)return!1;var e=n.valueOf,t=ki(e)&&(t=ea(e))&&ea(t);return t?n==t||ea(n)==t:$r(n)}:$r,Wa=nr(st),Ga=ha?function(n){if(n)var e=n.constructor,t=n.length;return"function"==typeof e&&e.prototype===n||"function"!=typeof n&&t&&wr(t)?Tr(n):_i(n)?ha(n):[]}:Tr,qa=nr(Nt),Va=tr(function(n,e,t){return e=e.toLowerCase(),n+(t?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ma=tr(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()});8!=ba(Ue+"08")&&(au=function(n,e,t){return(t?xr(n,e,t):null==e)?e=0:e&&(e=+e),n=fu(n),ba(n,e||(Ee.test(n)?16:10))});var Ya=tr(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()}),Ja=tr(function(n,e,t){return n+(t?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});return t.prototype=e.prototype,Be.prototype["delete"]=He,Be.prototype.get=Ke,Be.prototype.has=We,Be.prototype.set=Ge,Ve.prototype.push=Ye,ti.Cache=Be,e.after=Ko,e.ary=Wo,e.assign=Wa,e.at=xo,e.before=Go,e.bind=qo,e.bindAll=Vo,e.bindKey=Mo,e.callback=bu,e.chain=ho,e.chunk=jr,e.compact=Ir,e.constant=yu,e.countBy=Pa,e.create=ji,e.curry=Yo,e.curryRight=Jo,e.debounce=Zo,e.defaults=Ii,e.defer=Xo,e.delay=Qo,e.difference=Pr,e.drop=Ur,e.dropRight=Nr,e.dropRightWhile=Lr,e.dropWhile=Fr,e.filter=Oo,e.flatten=Hr,e.flattenDeep=Kr,e.flow=ni,e.flowRight=ei,e.forEach=$o,e.forEachRight=To,e.forIn=Ni,e.forInRight=Li,e.forOwn=Fi,e.forOwnRight=Di,e.functions=zi,e.groupBy=Ua,e.indexBy=Na,e.initial=Gr,e.intersection=qr,e.invert=Hi,e.invoke=Ao,e.keys=Ga,e.keysIn=Ki,e.map=Co,e.mapValues=Wi,e.matches=xu,e.memoize=ti,e.merge=qa,e.mixin=wu,e.negate=ri,e.omit=Gi,e.once=oi,e.pairs=qi,e.partial=ii,e.partialRight=ui,e.partition=Da,e.pick=Vi,e.pluck=jo,e.property=Su,e.propertyOf=Eu,e.pull=Yr,e.pullAt=Jr,e.range=Ru,e.rearg=ai,e.reject=Uo,e.remove=Zr,e.rest=Xr,e.shuffle=Lo,e.slice=Qr,e.sortBy=zo,e.sortByAll=Bo,e.take=to,e.takeRight=ro,e.takeRightWhile=oo,e.takeWhile=io,e.tap=go,e.throttle=ci,e.thru=vo,e.times=$u,e.toArray=Ai,e.toPlainObject=Ci,e.transform=Yi,e.union=uo,e.uniq=ao,e.unzip=co,e.values=Ji,e.valuesIn=Zi,e.where=Ho,e.without=lo,e.wrap=li,e.xor=so,e.zip=fo,e.zipObject=po,e.backflow=ei,e.collect=Co,e.compose=ei,e.each=$o,e.eachRight=To,e.extend=Wa,e.iteratee=bu,e.methods=zi,e.object=po,e.select=Oo,e.tail=Xr,e.unique=ao,wu(e,e),e.attempt=mu,e.camelCase=Va,e.capitalize=Qi,e.clone=si,e.cloneDeep=fi,e.deburr=nu,e.endsWith=eu,e.escape=tu,e.escapeRegExp=ru,e.every=ko,e.find=So,e.findIndex=Dr,e.findKey=Pi,e.findLast=Eo,e.findLastIndex=zr,e.findLastKey=Ui,e.findWhere=Ro,e.first=Br,e.has=Bi,e.identity=_u,e.includes=wo,e.indexOf=Wr,e.isArguments=pi,e.isArray=Ba,e.isBoolean=hi,e.isDate=di,e.isElement=gi,e.isEmpty=vi,e.isEqual=mi,e.isError=bi,e.isFinite=Ha,e.isFunction=yi,e.isMatch=xi,e.isNaN=wi,e.isNative=ki,e.isNull=Oi,e.isNumber=Si,e.isObject=_i,e.isPlainObject=Ka,e.isRegExp=Ei,e.isString=Ri,e.isTypedArray=$i,e.isUndefined=Ti,e.kebabCase=Ma,e.last=Vr,e.lastIndexOf=Mr,e.max=La,e.min=Fa,e.noConflict=ku,e.noop=Ou,e.now=za,e.pad=ou,e.padLeft=iu,e.padRight=uu,e.parseInt=au,e.random=Xi,e.reduce=Io,e.reduceRight=Po,e.repeat=cu,e.result=Mi,e.runInContext=k,e.size=Fo,e.snakeCase=Ya,e.some=Do,e.sortedIndex=no,e.sortedLastIndex=eo,e.startCase=Ja,e.startsWith=lu,e.template=su,e.trim=fu,e.trimLeft=pu,e.trimRight=hu,e.trunc=du,e.unescape=gu,e.uniqueId=Tu,e.words=vu,e.all=ko,e.any=Do,e.contains=wo,e.detect=So,e.foldl=Io,e.foldr=Po,e.head=Br,e.include=wo,e.inject=Io,wu(e,function(){var n={};return Rt(e,function(t,r){e.prototype[r]||(n[r]=t)}),n}(),!1),e.sample=No,e.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(e){return No(e,n)}):No(this.value())},e.VERSION=S,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){e[n].placeholder=e}),Xe(["filter","map","takeWhile"],function(n,e){var t=e==D;m.prototype[n]=function(n,r){var o=this.clone(),i=o.filtered,u=o.iteratees||(o.iteratees=[]);return o.filtered=i||t||e==B&&o.dir<0,u.push({iteratee:hr(n,r,3),type:e}),o}}),Xe(["drop","take"],function(n,e){var t=n+"Count",r=n+"While";m.prototype[n]=function(r){r=null==r?1:da(+r||0,0);var o=this.clone();if(o.filtered){var i=o[t];o[t]=e?ga(i,r):i+r}else{var u=o.views||(o.views=[]);u.push({size:r,type:n+(o.dir<0?"Right":"")})}return o},m.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()},m.prototype[n+"RightWhile"]=function(n,e){return this.reverse()[r](n,e).reverse()}}),Xe(["first","last"],function(n,e){var t="take"+(e?"Right":"");m.prototype[n]=function(){return this[t](1).value()[0]}}),Xe(["initial","rest"],function(n,e){var t="drop"+(e?"":"Right");m.prototype[n]=function(){return this[t](1)}}),Xe(["pluck","where"],function(n,e){var t=e?"filter":"map",r=e?Ut:Ft;m.prototype[n]=function(n){return this[t](r(e?n:n+""))}}),m.prototype.dropWhile=function(n,e){var t,r,o=this.dir<0;return n=hr(n,e,3),this.filter(function(e,i,u){return t=t&&(o?r>i:i>r),r=i,t||(t=!n(e,i,u))})},m.prototype.reject=function(n,e){return n=hr(n,e,3),this.filter(function(e,t,r){return!n(e,t,r)})},m.prototype.slice=function(n,e){n=null==n?0:+n||0;var t=0>n?this.takeRight(-n):this.drop(n);return"undefined"!=typeof e&&(e=+e||0,t=0>e?t.dropRight(-e):t.take(e-n)),t},Rt(m.prototype,function(n,r){var o=e[r],i=/^(?:first|last)$/.test(r);e.prototype[r]=function(){var r=this.__wrapped__,u=arguments,a=this.__chain__,c=!!this.__actions__.length,l=r instanceof m,s=l&&!c;if(i&&!a)return s?n.call(r):o.call(e,this.value());var f=function(n){var t=[n];return ta.apply(t,u),o.apply(e,t)};if(l||Ba(r)){var p=s?r:new m(this),h=n.apply(p,u);if(!i&&(c||h.actions)){var d=h.actions||(h.actions=[]);d.push({func:vo,args:[f],thisArg:e})}return new t(h,a)}return this.thru(f)}}),Xe(["concat","join","pop","push","shift","sort","splice","unshift"],function(n){var t=zu[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",o=/^(?:join|pop|shift)$/.test(n);e.prototype[n]=function(){var n=arguments;return o&&!this.__chain__?t.apply(this.value(),n):this[r](function(e){return t.apply(e,n)})}}),m.prototype.clone=J,m.prototype.reverse=ne,m.prototype.value=te,e.prototype.chain=mo,e.prototype.reverse=bo,e.prototype.toString=yo,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=_o,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var O,S="3.1.0",E=1,R=2,$=4,T=8,A=16,C=32,j=64,I=128,P=256,U=30,N="...",L=150,F=16,D=0,z=1,B=2,H="Expected a function",K="__lodash_placeholder__",W="[object Arguments]",G="[object Array]",q="[object Boolean]",V="[object Date]",M="[object Error]",Y="[object Function]",J="[object Map]",Z="[object Number]",X="[object Object]",Q="[object RegExp]",ne="[object Set]",ee="[object String]",te="[object WeakMap]",re="[object ArrayBuffer]",oe="[object Float32Array]",ie="[object Float64Array]",ue="[object Int8Array]",ae="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",se="[object Uint8ClampedArray]",fe="[object Uint16Array]",pe="[object Uint32Array]",he=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,be=RegExp(ve.source),ye=RegExp(me.source),_e=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Se=/^\s*function[ \n\r\t]+\w/,Ee=/^0[xX]/,Re=/^\[object .+?Constructor\]$/,$e=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Te=/($^)/,Ae=/[.*+?^${}()|[\]\/\\]/g,Ce=RegExp(Ae.source),je=/\bthis\b/,Ie=/['\n\r\u2028\u2029\\]/g,Pe=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"{2,}(?="+n+e+")|"+n+"?"+e+"|"+n+"+|[0-9]+","g")}(),Ue=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Ne=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Le=-1,Fe={};Fe[oe]=Fe[ie]=Fe[ue]=Fe[ae]=Fe[ce]=Fe[le]=Fe[se]=Fe[fe]=Fe[pe]=!0,Fe[W]=Fe[G]=Fe[re]=Fe[q]=Fe[V]=Fe[M]=Fe[Y]=Fe[J]=Fe[Z]=Fe[X]=Fe[Q]=Fe[ne]=Fe[ee]=Fe[te]=!1;var De={};De[W]=De[G]=De[re]=De[q]=De[V]=De[oe]=De[ie]=De[ue]=De[ae]=De[ce]=De[Z]=De[X]=De[Q]=De[ee]=De[le]=De[se]=De[fe]=De[pe]=!0,De[M]=De[Y]=De[J]=De[ne]=De[te]=!1;var ze={leading:!1,maxWait:0,trailing:!1},Be={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ke={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},We={"function":!0,object:!0},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=We[typeof window]&&window!==(this&&this.window)?window:this,Ve=We[typeof t]&&t&&!t.nodeType&&t,Me=We[typeof e]&&e&&!e.nodeType&&e,Ye=Ve&&Me&&"object"==typeof n&&n;!Ye||Ye.global!==Ye&&Ye.window!==Ye&&Ye.self!==Ye||(qe=Ye);var Je=Me&&Me.exports===Ve&&Ve,Ze=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qe._=Ze,define(function(){return Ze})):Ve&&Me?Je?(Me.exports=Ze)._=Ze:Ve._=Ze:qe._=Ze}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n){!function(){var e=angular.module("bidos",["auth","ngMaterial","ngMessages","ngStorage","ui.router","chart.js"]);n("./core"),n("./auth"),e.config(["$mdIconProvider",function(n){n.defaultIconSet("my/app/icons.svg").iconSet("social","my/app/social.svg").icon("android","lib/material-design-icons/action/svg/design/ic_android_48px.svg").icon("work:chair","my/app/chair.svg")}]),e.config(["$mdThemingProvider",function(n){n.theme("default").primaryPalette("teal").accentPalette("light-blue")}]),e.config(["$compileProvider",function(n){n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|blob):/)}]),e.run(["$rootScope",function(n){navigator.onLine?console.log("%cONLINE","color: green; font-size: 1.2em"):console.log("%cOFFLINE","color: red; font-size: 1.2em"),n.networkStatus=navigator.onLine?"online":"offline",n.$apply(),window.addEventListener?(window.addEventListener("online",function(){n.networkStatus="online",n.$apply()},!0),window.addEventListener("offline",function(){n.networkStatus="offline",n.$apply()},!0)):(document.body.ononline=function(){n.networkStatus="online",n.$apply()},document.body.onoffline=function(){n.networkStatus="offline",n.$apply()})}]),e.config(["$logProvider",function(n){n.debugEnabled(!0)}]),e.run(["$rootScope","$log",function(n,e){n.$log=e}]),e.config(["$httpProvider",function(n){n.interceptors.push(["$q","$rootScope",function(n,e){return{request:function(t){return e.$broadcast("loading-started"),t||n.when(t)},response:function(t){return e.$broadcast("loading-complete"),t||n.when(t)}}}])}]),e.directive("loadingIndicator",function(){return{restrict:"A",template:'<md-progress-linear class="md-warn" md-mode="indeterminate"></md-progress-linear>',link:function(n,e){n.$on("loading-started",function(){e.css({display:""})}),n.$on("loading-complete",function(){e.css({display:"none"})})}}})}()},{"./auth":4,"./core":10}],3:[function(n){!function(){function e(n,e,t,i,u,a,c,l){function s(){var n=[c.get(o+"/public/groups"),c.get(o+"/public/usernames"),c.get(o+"/public/institutions")];l.all(n).then(function(n){T.groups=n[0].data,T.usernames=n[1].data,T.institutions=n[2].data})}function f(){a.getUser().then(p,h)}function p(e){console.log("%cAUTHORIZED","color: green; font-size: 1.2em",e),n.auth=e}function h(){console.log("%cNOT AUTHORIZED","color: green; font-size: 1.2em, padding: 16px;"),e.go(A.AUTH_FAILURE),u.path("/")}function d(n){console.log("[auth] login attempt",n),a.login(n).then(g,v)}function g(t){console.info("[auth] login success",t),n.auth=t.data,e.go(A.LOGIN_SUCCESS)}function v(n){console.warn("[auth] login failure",n),t.show(t.simple().content(n.config.method,n.config.url,"FEHLER").position("bottom right").hideDelay(3e3))}function m(){console.log("[auth] logout attempt"),a.logout().then(b,y)}function b(t){console.info("[auth] logout success",t),e.go(A.LOGOUT_SUCCESS),n.auth=null}function y(n){console.warn("[auth] login failure",n)}function _(n){console.log("[auth] signup attempt",n),n.username=n.email.split("@")[0],a.signup(n).then(x,w)}function x(n){console.info("[auth] signup success",n),e.go(A.SIGNUP_SUCCESS),T["new"]=n.data[0],console.log("vm.auth",T.auth)}function w(n){console.warn("[auth] signup failure",n)}function k(n){console.log("[auth] forgot attempt",n),a.forgot(n).then(O,S)}function O(n){console.info("[auth] forgot success",n),e.go(A.FORGOT_SUCCESS)}function S(n){console.warn("[auth] forgot failure",n)}function E(n){console.log("[auth] reset attempt",n),a.reset(n,i.hash).then(R,$)}function R(n){console.info("[auth] reset success",n),e.go(A.RESET_SUCCESS)}function $(n){console.warn("[auth] reset failure",n)}n.$on("$stateChangeSuccess",function(e,t){n.state=t.name});var T=angular.extend(this,{login:d,logout:m,signup:_,roles:r,forgot:k,reset:E});s();var A={AUTH_SUCCESS:"",AUTH_FAILURE:"public.login",SIGNUP_SUCCESS:"public.thankyou",SIGNUP_FAILURE:"",LOGIN_SUCCESS:"bx.home",LOGIN_FAILURE:"",LOGOUT_SUCCESS:"public.login",LOGOUT_FAILURE:"",FORGOT_SUCCESS:"public.reset",FORGOT_FAILURE:"",RESET_SUCCESS:"public.login",RESET_FAILURE:""};f()}n("lodash"),n("./services");var t=n("../config"),r=t.roles,o=t.app.API;console.log("API",o),angular.module("auth.controller",[]).controller("AuthController",e),e.$inject=["$rootScope","$state","$mdToast","$stateParams","$location","UserFactory","$http","$q"]}()},{"../config":8,"./services":7,lodash:1}],4:[function(n){!function(){n("./interceptors"),n("./services"),n("./controllers"),n("./routes"),angular.module("auth",["auth.interceptor","auth.services","auth.controller","auth.router"])}()},{"./controllers":3,"./interceptors":5,"./routes":6,"./services":7}],5:[function(n){!function(){var e=n("../config").app.TOKEN_KEY;angular.module("auth.interceptor",["angular-jwt"]).config(["$httpProvider","jwtInterceptorProvider",function(n,t){t.tokenGetter=function(){var n=localStorage.getItem(e);return n||console.warn("no auth token present"),localStorage.getItem(e)},n.interceptors.push("jwtInterceptor")}])}()},{"../config":8}],6:[function(){!function(){angular.module("auth.router",["ui.router"]).config(["$stateProvider",function(n){n.state("public",{url:"",templateUrl:"auth/templates/layout.html"}).state("public.login",{url:"/login",views:{main:{templateUrl:"auth/templates/login.html"}}}).state("public.signup",{url:"/signup",views:{main:{templateUrl:"auth/templates/signup.html"}}}).state("public.thankyou",{url:"/thankyou",views:{main:{templateUrl:"auth/templates/thankyou.html"}}}).state("public.forgot",{url:"/forgot",views:{main:{templateUrl:"auth/templates/forgot.html"}}}).state("public.reset",{url:"/reset/:hash",views:{main:{templateUrl:"auth/templates/reset.html"}}})}])}()},{}],7:[function(n){!function(){var e=n("../config").app.API,t=n("../config").app.TOKEN_KEY;angular.module("auth.services",["angular-jwt"]).factory("UserFactory",["$http","AuthTokenFactory",function(n,t){function r(r){return n.post(e+"/auth/login",r).success(function(n){return t.setToken(n.token)})}function o(t){return n.post(e+"/auth/signup",t)}function i(t){return n.post(e+"/auth/forgot",t)}function u(t,r){return n.post(e+"/auth/reset/"+r,t)}function a(){t.setToken()}function c(){return t.getToken()}return{login:r,logout:a,signup:o,getUser:c,forgot:i,reset:u}}]).factory("AuthTokenFactory",["$window","$q","jwtHelper",function(n,e,r){function o(){return e(function(n,e){var t=u.getItem(a);t?n(r.decodeToken(t)):e()})}function i(n){n?u.setItem(a,n):u.removeItem(a)}var u=n.localStorage,a=t;return{getToken:o,setToken:i}}])}()},{"../config":8}],8:[function(n,e){!function(){e.exports={app:{API:"http://192.168.1.7:3000",RESOURCE_PATH:"v1",DEFAULT_RESOURCE:"resources/vanilla",TOKEN_KEY:"auth_token"},colors:{firenze:["#337754","#ffed94","#ffa029","#ac3619","#7f1b00"],phaedra:["#ff4a25","#ffff8b","#b0e88e","#63b17d","#009376"],custom1:["#f7c6ff","#fff7b4","#3a90ff","#ffc9af","#c8ffd6"]},steps:["kid","domain","subdomain","item","behaviour","help","examples","ideas","review"],religions:[{value:0,text:"keine"},{value:1,text:"Christentum"},{value:2,text:"Judentum"},{value:3,text:"Islam"},{value:4,text:"Andere"}],sexes:[{value:1,text:"männlich"},{value:2,text:"weiblich"}],hands:[{value:1,text:"linkshändig"},{value:2,text:"rechtshändig"}],statuses:[{value:0,text:"normal"},{value:1,text:"neu"},{value:2,text:"deaktiviert"}],roles:[{value:0,text:"Administrator"},{value:1,text:"Praktiker"},{value:2,text:"Wissenschaftler"}],behaviour:{help:[{value:!0,text:"normal",description:"wenn das Kind das Verhalten nur zeigt, wenn die Erzieherin / Lehrerin es dabei unterstützt.Dies ist z.B.der Fall, wenn das Kind erst aufgrund eines Tipps, eines Hin - weises von ihr das beschriebene Verhalten zeigt, das es ohne ihre Hilfe und Unterstützung vermutlich nicht gezeigt hätte. "},{value:!1,text:"normal",description:"wenn das Kind das beschriebene Verhalten spontan zeigt, ohne dass die Erziehe-rin/Lehrerin es dabei unterstützt. • wenn die Erzieherin/Lehrerin lediglich die Aufmerksamkeit des Kindes lenkt, je-doch keine Hilfestellung gibt, die sich auf das beschriebene Verhalten bezieht („schau mal“, „überleg noch mal“ etc.)."}],niveaus:[{value:0,text:"weniger entwickelt",description:"Das Kind zeigt ein Verhalten, das weniger weit entwickelt ist, als das auf Niveau 1 beschriebene."},{value:1,text:"Niveau 1"},{value:2,text:"Niveau 2"},{value:3,text:"Niveau 3"},{value:4,text:"weiter entwickelt",description:"Das Kind zeigt ein Verhalten, das bereits weiter entwickelt ist als das in Niveau 3 beschriebene."}]}}}()},{}],9:[function(n){!function(){var e=n("lodash"),t=angular.module("bidos");t.filter("reverse",function(){return function(n){return n&&n.length?n.slice().reverse():void 0}}),t.filter("queryFilter",function(){return function(n,t){function r(n){return t&&t.minAge&&t.maxAge?(console.log(n+">="+t.minAge+"&&"+n+"<="+t.maxAge+"=="+(n>=t.minAge&&n<=t.maxAge)),n>=t.minAge&&n<=t.maxAge):!0}function o(n){return t&&t.skill?(console.log(n,t.skill),n>=t.skill):!0}function i(n){return t?n===t.sex:!0}return e.map(n,function(n){var t=[];return n.hasOwnProperty("age")&&t.push(r(n.age)),n.hasOwnProperty("skill")&&t.push(o(n.skill)),n.hasOwnProperty("sex")&&t.push(i(n.sex)),e.all(t)})}}),t.filter("status",function(){return function(n){var e={"-1":"deaktiviert",0:"aktiviert",1:"ausstehend "};return e[n]||""}}),t.filter("domainTitle",["bxResources",function(n){return function(t){if(t){if(!t.hasOwnProperty("subdomain_id"))return void console.warn("item has no subdomain_id",t);var r=e.select(n.get().subdomains,{id:t.subdomain_id})[0];if(r)return r.hasOwnProperty("domain_id")?e.select(n.get().domains,{id:r.domain_id})[0].title:void console.warn("subdomain has no domain_id",r)}}}]),t.filter("subdomainTitle",["bxResources",function(n){return function(t){if(t){if(!t.hasOwnProperty("subdomain_id"))return void console.warn("item has no subdomain_id");var r=e.select(n.get().subdomains,{id:t.subdomain_id})[0];if(r)return r.hasOwnProperty("domain_id")?r.title:void console.warn("subdomain has no domain_id",r)}}}]),t.filter("subdomainTitleById",["bxResources",function(n){return function(t){return t?e.select(n.get().subdomains,{id:t})[0].title:void 0}}]),t.filter("bySubdomain",function(){return function(n,t){return e.select(n,{id:t})}}),t.filter("groupNameById",["bxResources",function(n){return function(t){return e.select(n.get().groups,{id:t})[0].name}}]),t.filter("itemTitle",["bxResources",function(n){return function(t){return e.select(n.get().items,{id:t})[0].name}}]),t.filter("groupName",["bxResources",function(n){return function(e){return n.getGroupNameById(e)}}]),t.filter("kidName",["bxResources",function(n){return function(t){return e.select(n.get().kids,{id:t})[0].name}}]),t.filter("countKids",["bxResourceHelper",function(n){return function(e){return arguments.length&&"number"==typeof arguments[0]?n.countKids(e):void 0}}]),t.filter("role",function(){return function(n){switch(n.role){case 0:return"Administrator".toLowerCase();case 1:return"Praktiker".toLowerCase();case 2:return"Wissenschaftler".toLowerCase();default:return"keine".toLowerCase()}}}),t.filter("age",function(){return function(n){if(n){var e=Date.now()-n.getTime(),t=new Date(e);return Math.abs(t.getUTCFullYear()-1970)}}}),t.filter("sex",function(){return function(n){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("sex")?1===n.sex?"männlich":"weiblich":void 0}}),t.filter("status",function(){return function(n){if(arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("status"))switch(n.status){case 0:return"aktiviert";case 1:return"ausstehend";case-1:return"deaktiviert"}}}),t.filter("value",function(){return function(n){if(arguments.length&&"number"==typeof arguments[0])switch(n){case 1:return"1";case 2:return"2";case 3:return"3";case 0:return"n/A";case-1:return"--";case-2:return"++"}}}),t.filter("group",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("group_id")?n.groupName(e.group_id):void 0}}]),t.filter("author",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("author_id")?n.groupName(e.group_id):void 0}}]),t.filter("domain",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]?n.domainTitle(e):void 0}}]),t.filter("item",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("item_id")?n.domainTitle(e.item_id):void 0}}]),t.filter("institution",["bxResourceHelper",function(n){return function(e){return n.institution(e)}}]),t.filter("subdomain",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("subdomain_id")?n.subdomainTitle(e.subdomain_id):void 0}}]),t.filter("kid",["bxResourceHelper",function(n){return function(e){return arguments.length&&null!==arguments[0]&&arguments[0].hasOwnProperty("kid_id")?n.kidName(e.kid_id):void 0}}])}()},{lodash:1}],10:[function(n){!function(){n("lodash"),n("./lib/bx-resource-service"),n("./lib/bx-observation-service"),n("./lib/bx-table"),n("./lib/bx-capture"),n("./lib/bx-observation-inbox"),n("./lib/bx-dashboard"),n("./lib/bx-user-profile"),n("./lib/bx-user-preferences"),n("./lib/bx-portfolio"),n("./lib/md-sidenav-controller"),n("./filters"),n("./routes")}()},{"./filters":9,"./lib/bx-capture":12,"./lib/bx-dashboard":14,"./lib/bx-observation-inbox":16,"./lib/bx-observation-service":18,"./lib/bx-portfolio":20,"./lib/bx-resource-service":22,"./lib/bx-table":24,"./lib/bx-user-preferences":26,"./lib/bx-user-profile":28,"./lib/md-sidenav-controller":29,"./routes":31,lodash:1}],11:[function(n){!function(){function e(){function n(n,e){return console.log("template",e.type),console.log("attr.type",e.type),e.type?"core/lib/bx-capture/bx-capture-"+e.type+".html":"core/lib/bx-capture/bx-capture.html"}function e(n,e,t){t.type?(console.log("%c\nCAPTURE CONTROLLER : "+t.type,"color: #161616; font-weight: bolder; font-size: 1.5em;"),n.vm.go(t.type)):(console.log("%c\nCAPTURE CONTROLLER : _","color: #161616; font-weight: bolder; font-size: 1.5em;"),n.vm.reset()),function(){var n=angular.element(document.getElementsByTagName("html")),e=[],t=function(n){angular.forEach(["$scope","$isolateScope"],function(t){n.data()&&n.data().hasOwnProperty(t)&&angular.forEach(n.data()[t].$$watchers,function(n){e.push(n)})}),angular.forEach(n.children(),function(n){t(angular.element(n))})};t(n);var r=[];angular.forEach(e,function(n){r.indexOf(n)<0&&r.push(n)}),console.debug("watchers:",r.length)}()}function r(n,e,r,o,i,u,a,c,l){function s(){a("right").toggle().then(function(){console.log("toggle RIGHT is done")})}function f(){c.save()}function p(n){_.remove(R.observation.stuff[n.type+"s"],n)}function h(n){c.add(n),delete e.newStuff}function d(){c.reset()}function g(){c.remove()}function v(n){c.go(n)}function m(n){c.select(n)}function b(){angular.extend(R,t),l.get().then(function(n){angular.extend(R,n)}),c.get().then(function(e){n.observation=e})}function y(n){return r.params.type===n?"is-active":""}function x(e){return n.hasOwnProperty("observation")?n.observation.steps.indexOf(e)>=n.observation.steps.indexOf(r.params.type):void 0}function w(n){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n]}function k(n){return n?function(e){var t=[];if(n.hasOwnProperty("kidName")&&null!==n.kidName){var r=new RegExp("\\b"+n.kidName,"i");t.push(e.name.match(r))}return n.hasOwnProperty("kidId")&&null!==n.kidId&&t.push(e.id===n.kidId),n.hasOwnProperty("kidSex")&&null!==n.kidSex&&t.push(e.sex===n.kidSex),_.all(t)}:void 0}function O(n){return n?function(e){var t=[];n.hasOwnProperty("groupId")&&null!==n.groupId&&t.push(e.id===n.groupId);var r=_.without(e.kids,{id:n.kidId}).length;return t.push(r),console.log(_.all(t)),_.all(t)}:void 0}function S(){return _.reduce(n.observations,function(n,e){return n+e.niveau})}function E(n){n.hasOwnProperty("exId")?n.exId<n.examples.length-1?n.exId+=1:n.exId=0:n.exId=1}var R=angular.extend(this,{add:h,remove:g,select:m,go:v,reset:d,isActive:y,isDisabled:x,indexChar:w,observation:n.observation,nextExample:E,deleteStuff:p,kidFilter:k,groupFilter:O,maxSkill:S,toolbarState:r.params.type,save:f,rightNav:s});b(),console.log(r)}return r.$inject=["$rootScope","$scope","$state","$stateParams","$mdDialog","$mdToast","$mdSidenav","bxObservation","bxResources"],{scope:{},controllerAs:"vm",bindToController:!0,controller:r,templateUrl:n,link:e}}angular.module("bidos").directive("bxCapture",e);var t=n("../../../config")}()},{"../../../config":8}],12:[function(n){n("./bx-capture")
},{"./bx-capture":11}],13:[function(n){!function(){function e(){function e(e,t,r,o,i,u){function a(){u.sync()}function c(){console.log("[auth] logout attempt"),r.logout(),o.go("public.login"),e.auth=null}function l(){u.get().then(function(n){var e=JSON.stringify(n),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.download="bx-data-export.json",o.href=r,o.textContent="Export Data"})}t.auth=e.auth;var s=angular.extend(this,{colors:n("../../../config").colors,networkStatus:e.networkStatus,online:"online"===e.networkStatus,date:(new Date).toJSON().replace(/[:]/g,"-"),exportData:l,logout:c,sync:a});t.$watch("$rootScope.networkStatus",function(n,e){n!==e&&(console.log("offline!"),t.foodCounter=t.foodCounter+1)}),s.menu=[{shortText:"Konfiguration",longText:"Persönliche Konfiguration",description:"Einstellungen",roles:["admin","practitioner","scientist"],onClick:function(){return o.go("bx.user-preferences")},colSpan:[0,0,0]},{shortText:"Profil",longText:"Persönliches Profil",description:"Eigene Resourcen und Tasks",roles:["admin","practitioner","scientist"],onClick:function(){return o.go("bx.user-profile")},colSpan:[0,0,0]},{shortText:"Neue Beobachtung",longText:"Neue Beobachtung einstellen",description:"Sie können eine neue Beobachtung erstellen, indem sie ein Kind und ein Baustein auswählen und das Niveau des beobachteten Verhalten des Kindes auf einer Skala von 1-3 (eigentlich 0-4) bewerten. Fügen Sie optional noch eigene Beispiele und Ideen hinzu.",roles:["admin","practitioner"],onClick:function(){return o.go("bx.capture",{type:"kid"})},colSpan:[2,0,0]},{shortText:"Portfolios",longText:"Portfolios ansehen",description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.portfolio")},colSpan:[0,0,0]},{shortText:"Beobachtungen",longText:"Beobachtungen ansehen",description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.table",{type:"observation"})},colSpan:[0,0,0]},{shortText:"Eingehende Beobachtungen",longText:"Neu eingegange Beobachtungen ansehen",description:"",roles:["admin","scientist"],onClick:function(){return o.go("bx.observation-inbox")},colSpan:[0,0,0]},{shortText:"Kinder",longText:"Kinder verwalten",description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.table",{type:"kid"})},colSpan:[0,0,0]},{shortText:"Gruppen",longText:"Gruppen verwalten",description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.table",{type:"group"})},colSpan:[0,0,0]},{shortText:"Benutzer",longText:"Benutzer verwalten",description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.table",{type:"user"})},colSpan:[0,0,0]},{shortText:"Bausteine",longText:"Bausteine verwalten: Bereiche, Teilbereiche, Verhalten, Beispiele",description:"",roles:["admin","scientist"],onClick:function(){return o.go("bx.table",{type:"item"})},colSpan:[0,0,0]},{shortText:"Institutionen",longText:'Resource "Institution" verwalten',description:"",roles:["admin","practitioner"],onClick:function(){return o.go("bx.table",{type:"institution"})},colSpan:[0,0,0]}],u.get().then(function(n){var e=new Blob([JSON.stringify(n)],{type:"application/json"});s.resourceDownload=(i.URL||i.webkitURL).createObjectURL(e)})}return e.$inject=["$rootScope","$scope","UserFactory","$state","$window","bxResources"],{scope:{},bindToController:!0,controller:e,controllerAs:"vm",templateUrl:"core/lib/bx-dashboard/bx-dashboard.html"}}angular.module("bidos").directive("bxDashboard",e)}()},{"../../../config":8}],14:[function(n){n("./bx-dashboard")},{"./bx-dashboard":13}],15:[function(){!function(){function n(){function n(n,e){var t=angular.extend(this,{auth:n.auth,networkStatus:n.networkStatus});e.get().then(function(n){t.data=n})}return n.$inject=["$rootScope","bxResources"],{scope:{},bindToController:!0,controller:n,controllerAs:"vm",templateUrl:"core/lib/bx-observation/bx-observation-inbox.html"}}angular.module("bidos").directive("bxObservationInbox",n)}()},{}],16:[function(n){n("./bx-observation-inbox")},{"./bx-observation-inbox":15}],17:[function(n){!function(){function e(n,e,r,o,i){function u(){return console.log("resetting observation"),r(function(n){h=new p,o.go("bx.capture.go",{type:"kid"}),n(h)})}function a(){return r(function(n){return n(h)})}function c(n){if(!n.hasOwnProperty("type"))return void console.warn("resource has no type");var e=n.type+"s";return h.stuff.hasOwnProperty(e)||(h.stuff[e]=[]),h.stuff[e].push(n)}function l(n){switch(n.type){case"example":case"idea":h.add(n);break;default:h[n.type]=n}s()}function s(n){var e=o.params.type?t.indexOf(o.params.type):0;return h.satisfaction?e++:e=0,o.go("bx.capture.go",{type:n||t[e]})}function f(){var t={type:"observation",item_id:h.item.id,kid_id:h.kid.id,user_id:n.auth.id,niveau:h.behaviour.niveau};h.help&&h.help.value&&(t.help=h.help.value),_.each(h.stuff.examples,function(n){n.behaviour_id=h.behaviour.id,e.create(n).then(function(n){console.log(n)})}),_.each(h.stuff.ideas,function(n){n.behaviour_id=h.behaviour.id,e.create(n).then(function(n){console.log(n)})}),e.create(t).then(function(n){console.log(n),i.show(i.simple().content('<pre class="resourceSuccess">Beobachtung erfolgreich erstellt</pre>').position("bottom right").hideDelay(3e3)),this.reset()}.bind(this))}var p=function(){this.stuff={},this.author_id=n.auth.id};$traceurRuntime.createClass(p,{get satisfaction(){var n=this,e=o.params.type,r=t.indexOf(e),i=t.slice(0,r+1);return _.all(i,function(e){return n.hasOwnProperty(e)},this)},get steps(){return t},remove:function(n){if(!n.hasOwnProperty("type"))return void console.warn("resource has no type");var e=n.type+"s";if(!this.stuff.hasOwnProperty(e))return void console.warn("observation has no"+e);var t=this.stuff[e].indexOf(n);return this.stuff[e].splice(t,1)}},{});var h=new p;return{select:l,get:a,go:s,reset:u,add:c,save:f}}var t=n("../../../config").steps;angular.module("bidos").service("bxObservation",e),e.$inject=["$rootScope","bxResources","$q","$state","$mdToast"]}()},{"../../../config":8}],18:[function(n){n("./bx-observation-service")},{"./bx-observation-service":17}],19:[function(n){!function(){function e(){function n(n,e,r,o){function i(n){switch(n){case"kid":l();break;case"group":s();break;case"institution":f()}}function u(n){return _.contains(p.selection,n)}function a(n){_.contains(p.selection,n)?_.remove(p.selection,n):p.selection.push(n)}function c(){o.get().then(function(n){angular.extend(p,n),angular.extend(p,t),s()})}function l(){function e(n,e){r.data[e-1].push(_.chain(n.observations).filter({domain_id:e}).map("niveau").reduce(function(n,e){return console.log(n,e),n+e}).value()||0)}r.series=_.map(p.domains,"name");var t=_.filter(p.kids,function(n){return n.observations.length});r.labels=2===n.auth.role?_.map(t,"id"):_.map(t,"name"),r.data=[[],[],[],[]],_.each(t,function(n){e(n,1),e(n,2),e(n,3),e(n,4)})}function s(){function n(n,e){var t=_.chain(n.observations).flatten().filter({domain_id:e}).map("niveau").reduce(function(n,e){return console.log(n,e),n+e}).value();r.data[e-1].push(t||0)}r.series=_.map(p.domains,"name");var e=_.filter(p.groups,function(n){return n.observations.length});r.labels=_.map(e,"name"),r.data=[[],[],[],[]],_.each(e,function(e){n(e,1),n(e,2),n(e,3),n(e,4)})}function f(){function n(n,e){var t=_.chain(n.observations).flatten().filter({domain_id:e}).map("niveau").reduce(function(n,e){return console.log(n,e),n+e}).value();r.data[e-1].push(t||0)}r.series=_.map(p.domains,"name");var e=_.filter(p.institutions,function(n){return n.observations.length});r.labels=_.map(e,"name"),r.data=[[],[],[],[]],_.each(e,function(e){n(e,1),n(e,2),n(e,3),n(e,4)})}var p=angular.extend(this,{auth:n.auth,select:a,selection:[],isSelected:u,selectChart:i});c()}return n.$inject=["$rootScope","$mdDialog","$scope","bxResources"],{scope:{},bindToController:!0,controller:n,controllerAs:"vm",templateUrl:"core/lib/bx-portfolio/bx-portfolio.html"}}angular.module("bidos").directive("bxPortfolio",e);var t=n("../../../config")}()},{"../../../config":8}],20:[function(n){n("./bx-portfolio")},{"./bx-portfolio":19}],21:[function(n){!function(){function e(e,t,r,o){function i(){function n(n,e){p[n]=_.clone(f[n]),_.each(p[n],function(n){var t=n.type+"_id";n.hasOwnProperty(e)||Object.defineProperty(n,e,{get:function(){return _.filter(f[e],function(n){return n[t]===this.id},this)}})})}function t(n,e,t){_.each(e,function(e){e.hasOwnProperty(t)||Object.defineProperty(e,t,{get:function(){return _.filter(n[t+"s"],{id:this[t+"_id"]})[0]}})})}p.kids=_.clone(f.kids),p.users=_.clone(f.users);var r=_.map(f,function(n,e){var t={};return t[e]=_.chain(n).map(function(n){return _.chain(n).keys().filter(function(n){return n.match(/_id$/)}).value()}).flatten().uniq().value(),t});switch(_.each(r,function(e){var t;_.each(e,function(e,r){t=r,_.each(e,function(e){var r=e.slice(0,e.lastIndexOf("_id"))+"s";n(r,t)}.bind(this))})}),_.each(p,function(n){_.each(n,function(n){_.each(n,function(n,e,t){(e.match(/_at$/)||e.match(/^bday$/))&&(t[e]=new Date(n))})})}),_.each(f,function(n){var e=_.chain(n[0]).keys().filter(function(n){return n.match(/_id/)}).map(function(n){return n.split("_id")[0]}).value();_.each(e,function(e){f.hasOwnProperty(e+"s")&&t(f,n,e)})}),_.each(p.items,function(n){n.hasOwnProperty("domain")||Object.defineProperty(n,"domain",{get:function(){return _.filter(p.domains,{id:this.subdomain.domain_id})[0]}}),n.hasOwnProperty("examples")||Object.defineProperty(n,"examples",{get:function(){return _.chain(this.behaviours).map("examples").flatten().value()}}),n.hasOwnProperty("ideas")||Object.defineProperty(n,"ideas",{get:function(){return _.chain(this.behaviours).map("ideas").flatten().value()}})}),_.each(p.observations,function(n){n.hasOwnProperty("domain")||Object.defineProperty(n,"domain",{get:function(){return this.item.subdomain.domain}}),n.hasOwnProperty("domain_id")||Object.defineProperty(n,"domain_id",{get:function(){return this.item.subdomain.domain.id}}),n.hasOwnProperty("subdomain_id")||Object.defineProperty(n,"subdomain_id",{get:function(){return this.item.subdomain.id}})}),_.each(p.kids,function(n){n.hasOwnProperty("skill")||Object.defineProperty(n,"skill",{get:function(){var e=[_.chain(n.observations).filter({domain_id:1}).map("niveau").reduce(function(n,e){return n+e},0).value(),_.chain(n.observations).filter({domain_id:2}).map("niveau").reduce(function(n,e){return n+e},0).value(),_.chain(n.observations).filter({domain_id:3}).map("niveau").reduce(function(n,e){return n+e},0).value(),_.chain(n.observations).filter({domain_id:4}).map("niveau").reduce(function(n,e){return n+e},0).value()];return e}}),n.hasOwnProperty("age")||Object.defineProperty(n,"age",{get:function(){var n=new Date,e=this.bday,t=n.getFullYear()-e.getFullYear(),r=n.getMonth()-e.getMonth();return(0>r||0===r&&n.getDate()<e.getDate())&&t--,t}})}),_.each(p.groups,function(n){n.hasOwnProperty("observations")||Object.defineProperty(n,"observations",{get:function(){return _.chain(n.kids).map("observations").filter(function(n){return n.length}).value()}})}),_.each(p.institutions,function(n){n.hasOwnProperty("observations")||Object.defineProperty(n,"observations",{get:function(){return _.chain(n.groups).map("kids").flatten().map("observations").filter(function(n){return n.length}).value()}})}),e.auth.role){case 0:break;case 1:p.kids=_.flatten(_.chain(f.users).filter({id:e.auth.id}).first().value().institution.groups.map(function(n){return n.kids})),p.groups=_.flatten(_.chain(f.users).filter({id:e.auth.id}).first().value().institution.groups);break;case 2:}}function u(n){f=n,i()}function a(n){return o(function(e){_.isEmpty(f)||n?r.get(d).success(function(n){u(n),e(p)}):e(p)})}function c(n){var t=[RESOURCE_PATH,n.type].join("/");return o(function(o){delete n.type,n.author_id=e.auth.id,r.post(t,n).success(function(n){_.each(n,function(n){f[n.type+"s"].push(n)}),i(),o(n),g("Resource erfolgreich erstellt"),console.log("%cget resource ok","color: #77d598; font-weight: bolder; font-size: 1.1em;",n)}).error(function(n){o(n),g(n[0].content.detail),console.warn("%cget resource failure: "+n,"color: #ca6164; font-weight: bolder; font-size: 1.1em;")})})}function l(n){var t=[RESOURCE_PATH,n.type,n.id].join("/");return o(function(o){delete n.type,n.author_id=e.auth.id,r.patch(t,n).success(function(n){var e=n[0];f[e.type+"s"].splice(_.findIndex(f[e.type+"s"],{id:e.id}),1,e),i(),o(n),g("Resource erfolgreich aktualisiert"),console.log("%cupdate resource ok: "+e.type,"color: #77d598; font-weight: bolder; font-size: 1.1em;",n)}).error(function(n){o(n),g(n[0].content.detail),console.warn("%cupdate resource failure: "+n,"color: #ca6164; font-weight: bolder; font-size: 1.1em;")})})}function s(n){var e=[RESOURCE_PATH,n.type,n.id].join("/");return o(function(n){r["delete"](e).success(function(e){var t=e[0];f[t.type+"s"].splice(_.findIndex(f[t.type+"s"],{id:t.id}),1),i(),n(e),g("Resource erfolgreich gelöscht"),console.log("%cupdate resource ok: "+t.type,"color: #77d598; font-weight: bolder; font-size: 1.1em;",e)}).error(function(e){n(e),g(e[0].content.detail),console.warn("%cdestroy resource failure: "+e,"color: #ca6164; font-weight: bolder; font-size: 1.1em;")})})}var f={},p={},h=n("../../../config"),d=[h.app.API,h.app.RESOURCE_PATH,h.app.DEFAULT_RESOURCE].join("/"),g=function(n){t.show(t.simple().content(n).position("bottom right").hideDelay(3e3))};return{get:a,create:c,update:l,destroy:s}}function t(n){function e(n){return _.select(c.kids,{group_id:+n}).length}function t(n){var e=_.select(c.groups,{id:+n});return e.length?e[0].name:void 0}function r(n){var e=_.select(c.institutions,{id:+n});return e.length?e[0].name:void 0}function o(n){var e=_.select(c.groups,{id:+n.group_id});return e.length?e[0]:void 0}function i(n){var e=n.institution_id||this.group(n);return e?this.institutionName(e):void 0}function u(n){var e=_.select(c.subdomains,{id:+n});return e.length?e[0].title:void 0}function a(n){if(n.hasOwnProperty("subdomain_id")){var e=_.select(c.subdomains,{id:n.subdomain_id})[0].domain_id;return _.select(c.domains,{id:+e})[0].title}}var c=null;return c||n.get().then(function(n){c=n}),{countKids:e,groupName:t,subdomainTitle:u,institutionName:r,domainTitle:a,group:o,institution:i}}angular.module("bidos").service("bxResources",e).service("bxResourceHelper",t),e.$inject=["$rootScope","$mdToast","$http","$q"],t.$inject=["bxResources"]}()},{"../../../config":8}],22:[function(n){n("./bx-resource-service")},{"./bx-resource-service":21}],23:[function(n){!function(){function e(){function n(n,e,r,o){function i(){n.get().then(function(n){angular.extend(c,n),angular.extend(c,t)})}function u(n,t){2!==o.auth.role&&e.show({bindToController:!1,controller:a,controllerAs:"vm",locals:{resource:t,parentVm:c},targetEvent:n,templateUrl:"core/lib/bx-table/bx-table-"+t.type+"-dialog.html"}).then(function(n){i(n),console.log("dialog succeeded")},function(){console.log("dialog cancelled")})}function a(e,t,r){function o(n){n.hasOwnProperty("enabled")&&(n.enabled=!n.enabled)}function i(n){switch(n.type){case"user":var e=!0;return 1===n.role&&(e=_.all([null!==n.institution_id,null!==n.group_id])),_.all([null!==n.name,null!==n.email,e]);case"item":return _.all([null!==n.subdomain_id,null!==n.behaviour1,null!==n.behaviour2,null!==n.behaviour3])}}function u(){e.cancel()}function a(t){n.destroy(t).then(function(n){e.hide(n)},function(){})}function c(t){_.each(l.r.examples,function(t){t.hasOwnProperty("id")?n.update(t).then(function(n){e.hide(n)}):n.create(t).then(function(n){e.hide(n)})}),l.behaviours&&_.each(l.behaviours,function(t){var r=t.examples;delete t.examples,n.create(t).then(function(t){var o=t[0].id;_.each(r,function(t){t.behaviour_id=o,t.type="example",n.create(t).then(function(n){e.hide(n)})})})}),"item"!==l.r.type&&(l.r.id?n.update(t).then(function(n){e.hide(n)}):n.create(t).then(function(n){e.hide(n)}))}var l=angular.extend(this,{cancel:u,save:c,destroy:a,parent:t,toggleActivation:o,formIsValid:i});l[r.type]=_.clone(r),l.r=r,"item"!==l.r.type||l.r.behaviours.length||(l.behaviours=[],_.each([1,2,3],function(n){l.behaviours.push({type:"behaviour",text:"",item_id:l.r.id,niveau:n,examples:[]})}),console.log(l.behaviours))}var c=angular.extend(this,{dialog:u});c.sortOrder="id",r.auth=o.auth,i(),a.$inject=["$mdDialog","parentVm","resource"]}return n.$inject=["bxResources","$mdDialog","$scope","$rootScope"],{scope:{},bindToController:!0,controller:n,controllerAs:"vm",templateUrl:function(n,e){return"core/lib/bx-table/bx-table-"+e.type+".html"}}}angular.module("bidos").directive("bxTable",e);var t=n("../../../config")}()},{"../../../config":8}],24:[function(n){n("./bx-table")},{"./bx-table":23}],25:[function(){!function(){function n(){function n(n,e){function t(n){e.show({bindToController:!1,controller:r,controllerAs:"vm",locals:{data:o.data,user:o.auth},targetEvent:n,templateUrl:"bx-core/bx-profile/bx-profile.dialog.html"}).then(function(){},function(){console.log("dialog cancelled")})}function r(n,e,t,r){function o(){n.cancel()}function i(t){e.update("user",t).then(function(e){console.log("resource created:",t),n.hide(e)})}angular.extend(this,{cancel:o,update:i,data:t,user:r})}var o=angular.extend(this,{auth:n.auth,dialog:t});r.$inject=["$mdDialog","bxResources","data","user"]}return n.$inject=["$rootScope","$mdDialog"],{scope:{},bindToController:!0,controller:n,controllerAs:"vm",templateUrl:"core/lib/bx-profile/bx-profile.html"}}angular.module("bidos").directive("bxUserPreferences",n)}()},{}],26:[function(n){n("./bx-user-preferences")},{"./bx-user-preferences":25}],27:[function(){!function(){function n(){function n(n){angular.extend(this,{auth:n.auth})}return n.$inject=["$rootScope"],{scope:{},bindToController:!0,controller:n,controllerAs:"vm",templateUrl:"core/lib/bx-user-profile/bx-user-profile.html"}}angular.module("bidos").directive("bxUserProfile",n)}()},{}],28:[function(n){n("./bx-user-profile")},{"./bx-user-profile":27}],29:[function(n){n("./md-sidenav-controller")},{"./md-sidenav-controller":30}],30:[function(){!function(){function n(n,e,t,r){console.log("yes"),n.toggleLeft=function(){t("left").toggle().then(function(){r.debug("toggle left is done")})},n.toggleRight=function(){t("right").toggle().then(function(){r.debug("toggle RIGHT is done")})}}function e(n,e,t,r){n.close=function(){t("left").close().then(function(){r.debug("close LEFT is done")})}}function t(n,e,t,r){n.close=function(){t("right").close().then(function(){r.debug("close RIGHT is done")})}}angular.module("bidos").controller("AppCtrl",n).controller("LeftCtrl",e).controller("RightCtrl",t),n.$inject=["$scope","$timeout","$mdSidenav","$log"],e.$inject=["$scope","$timeout","$mdSidenav","$log"],t.$inject=["$scope","$timeout","$mdSidenav","$log"]}()},{}],31:[function(){!function(){angular.module("bidos").config(["$stateProvider",function(n){n.state("bx",{url:"",templateUrl:"core/layout.html"}).state("bx.home",{url:"/home",views:{main:{template:"<bx-dashboard layout flex></bx-dashboard>"}}}).state("bx.capture",{url:"/capture",views:{main:{template:'<bx-capture layout="row" flex></bx-capture>'}}}).state("bx.capture.go",{url:"/:type",views:{"capture-main":{template:function(n){return _.isEmpty(n)&&(n.type="kid"),'<bx-capture layout="row" flex type="'+n.type+'"></bx-capture>'}}}}).state("bx.table",{url:"/resource/:type",views:{main:{template:function(n){return'<bx-table layout flex type="'+n.type+'"></bx-table>'}}}}).state("bx.portfolio",{url:"/portfolio",views:{main:{template:"<bx-portfolio flex></bx-portfolio>"}}}).state("bx.user-profile",{url:"/profile",views:{main:{template:"<bx-profile></bx-profile>"}}}).state("bx.user-preferences",{url:"/prefs",views:{main:{template:"<bx-user-preferences></bx-user-preferences>"}}}).state("bx.observation-inbox",{url:"/observation-inbox",views:{main:{template:"<bx-observation-inbox></bx-observation-inbox>"}}})}])}()},{}]},{},[2]);
//# sourceMappingURL=bidos.min.js.map